<p>
    Follow these steps to start local debugging for C# in VS Code:
</p>

<ol>
    <li>Follow the <a href="/docs/v2/lean-cli/tutorials/local-autocomplete#06-C-and-VS-Code">How to set up local autocomplete for C# in VS Code</a> tutorial.</li>
    <li>Open the directory containing the <code>Main.cs</code> file in a new VS Code window. It is important that you open the project directory itself, not the directory you ran <code>lean init</code> in.</li>
    <li>Run the <code>lean backtest</code> command with the <code>--debug vsdbg</code> option and wait until the CLI tells you to attach to the debugger.    
<div class="section-example-container">
<pre>$ lean backtest "My Project" --debug vsdbg
20210423 13:50:54.634 TRACE:: DebuggerHelper.Initialize(): waiting for debugger to attach...</pre>
</div>
    </li>
    <li>In VS Code, open the Run tab and run the configuration called "Debug with Lean CLI" (this configuration is created when you create a new project with the CLI).
        <img src="https://cdn.quantconnect.com/i/tu/debug-vscode-launch-config.png" class="img-responsive">
    </li>
    <li>In the process selector that pops up, select the process labeled "dotnet QuantConnect.Lean.Launcher.dll".
        <img src="https://cdn.quantconnect.com/i/tu/debug-csharp-vscode-selector.png" class="img-responsive">
    </li>
</ol>

<p>
    After finishing C# debugging with VS Code you will see a message saying "The pipe program 'docker' exited unexpectedly with code 137.".
    You can safely ignore this message.
</p>
