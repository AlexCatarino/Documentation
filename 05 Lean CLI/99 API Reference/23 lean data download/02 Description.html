<p>
    Lets you purchase and download historical data from the <a href='https://www.quantconnect.com/datasets/'>QuantConnect Dataset Market</a>, a brokerage, or a third-party data provider.
</p>

<h4>Download from QuantConnect</h4>
<p>When you download data from the QuantConnect Dataset Market, this command performs the following actions:</p>
<ol>
    <li>An interactive wizard is shown allowing you to configure exactly which data you want to download.</li>
    <li>You are asked to accept the <span class='document-title'>CLI API Access and Data Agreement</span> in your web browser.</li>
    <li>You are asked to confirm the purchase one last time.</li>
    <li>The CLI downloads the requested files while charging the organization that's linked to your current organization workspace.</li>
</ol>

<p>
    Data from the Dataset Market is priced on a per-file per-download basis, meaning you pay a certain number of <a href='https://www.quantconnect.com/docs/v2/cloud-platform/organizations/credit'>QuantConnect Credits</a> (QCC) for each file you download.
    The required QCC is deducted from your organization's QCC balance when a file is downloaded.
    If you force-quit the command before it downloaded all requested files, you are not charged for the files you didn't download.
</p>

<p>
    When <code>--dataset</code> is given, the command runs in non-interactive mode and several steps in the preceding list are skipped.
    Instead, the command reads the downloading configuration from the given command-line options.
    In this mode, the <code>--dataset</code> option is required, as well as all options specific to the selected dataset.
</p>

<p>
    Example non-interactive usage:
</p>

<div class="cli section-example-container">
<pre>$ lean data download \
    --dataset "Bitfinex Crypto Price Data" \
    --data-type "Trade" \
    --ticker "BTCUSDT" \
    --resolution "Daily" \
    --start "20201208" \
    --end "20221208" </pre>
</div>

<p>
    In case the local data already exists, a warning is logged and you are given the choice of whether you want to enable overwriting existing data or not.
    Use the <code>--overwrite</code> flag to override this behavior and enable overwriting existing data in all such cases.
</p>

<p>To automatically confirm payment confirmation prompts, use the <code>--yes</code> flag.</p>

<h4>Download from Brokerages and Third-Party Providers</h4>
<p>
    When you download data from a brokerage or third-party data provider, run this command and follow the prompts to select the data you need. 
    To view all the available data providers, see the <code>--data-provider-historical</code> <a href='/docs/v2/lean-cli/api-reference/lean-data-download#04-Options'>option</a> description.
    After you know what options you need to provide to download data from your specific brokerage or third-party data provider, you can run the command in a script to automate the process.
</p>
