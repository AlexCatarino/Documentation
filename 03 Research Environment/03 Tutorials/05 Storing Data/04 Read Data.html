<p>You can get data from the <code>ObjectStore</code> object in different formats.</p>
<p>It is good practice to check wether the <code>ObjectStore</code> has the key to the object you want to read. If not present, the method will raise an exception.</p>

<h4>ReadBytes</h4>
<ol>
    <li>Call <code>ContainsKey</code> to check if the key-value pair is in the <code>ObjectStore</code>.</li>
    <div class="section-example-container">
        <pre class="csharp">objectStore.ContainsKey("saveBytes")</pre>
        <pre class="python">object_store.ContainsKey("save_bytes")</pre>
    </div>
    <img class="csharp" src="https://cdn.quantconnect.com/i/tu/store-data-save-bytes-cs.png">
    <img class="python" src="https://cdn.quantconnect.com/i/tu/store-data-save-bytes-py.png">

    <p>Call <code>ReadBytes</code> method to read data from a stored bytes object.</p>
    <div class="section-example-container">
        <pre class="csharp">var bytesData = objectStore.Read("saveBytes");</pre>
        <pre class="python">byte_data = object_store.Read("save_bytes")</pre>
    </div>

    <li class="csharp">Convert to string.</li>
    <li class="python">Call <code>json.loads</code> to restore the data string.</li>
    <div class="section-example-container">
        <pre class="csharp">var stringData = Encoding.UTF8.GetString(bytesData);</pre>
        <pre class="python">string_data = json.loads(bytearray(byte_data).decode('utf-8'))</pre>
    </div>

    <li>Restore as the dictionary.</li>
    <div class="section-example-container">
        <pre class="csharp">var dict = stringFromBytes.Split(new[] {'\n'}, StringSplitOptions.RemoveEmptyEntries)
               .Select(part => part.Split('[')[1]).Select(part => part.Split(']')[0]).Select(part => part.Split(','))
               .ToDictionary(split => split[0], split => split[1]);</pre>
        <pre class="python">byte_data = eval(byte_data)</pre>
    </div>
    <img class="csharp" src="https://cdn.quantconnect.com/i/tu/store-data-read-bytes-cs.png">

    <li class="python">Call <code>assert</code> to check if the read and original data are the same. If no error message displayed, the two objects are the same.</li>
    <div class="python section-example-container">
        <pre class="python">assert byte_data == sample</pre>
    </div>
</ol>

<h4>Read</h4>
<ol>
    <li>Use <code>ContainsKey</code> to check if the key-value pair is in the <code>ObjectStore</code>.</li>
    <div class="section-example-container">
        <pre class="csharp">objectStore.ContainsKey("saveString")</pre>
        <pre class="python">object_store.ContainsKey("save_string")</pre>
    </div>
    <img class="csharp" src="https://cdn.quantconnect.com/i/tu/store-data-save-string-cs.png">
    <img class="python" src="https://cdn.quantconnect.com/i/tu/store-data-save-string-py.png">

    <p>Call <code>Read</code> or <code>ReadString</code> method to read the stored string object.</p>
    <div class="section-example-container">
        <pre class="csharp">var stringData = objectStore.Read("saveString");</pre>
        <pre class="python">string_data = object_store.Read("save_string")</pre>
    </div>

    <li>Restore as the dictionary.</li>
    <div class="section-example-container">
        <pre class="csharp">var dict = stringData.Split(new[] {'\n'}, StringSplitOptions.RemoveEmptyEntries)
               .Select(part => part.Split('[')[1]).Select(part => part.Split(']')[0]).Select(part => part.Split(','))
               .ToDictionary(split => split[0], split => split[1]);</pre>
        <pre class="python">string_data = eval(string_data)</pre>
    </div>
    <img class="csharp" src="https://cdn.quantconnect.com/i/tu/store-data-read-str-cs.png">

    <li class="python">Call <code>assert</code> to check if the read and original data are the same. If no error message displayed, the two objects are the same.</li>
    <div class="python section-example-container">
        <pre class="python">assert string_data == sample</pre>
    </div>
</ol>

<h4 class="csharp">ReadJson</h4>
<ol class="csharp">
    <li class="csharp">Use <code>ContainsKey</code> to check if the key-value pair is in the <code>ObjectStore</code>.</li>
    <div class="csharp section-example-container">
       <pre class="csharp">objectStore.ContainsKey("saveJson")</pre>
    </div>
    <img class="csharp" src="https://cdn.quantconnect.com/i/tu/store-data-save-json-cs.png">

    <li class="csharp">Call the <code>ReadJson&lt;T&gt;</code> method to read the stored JSON object.</li>
    <div class="csharp section-example-container">
        <pre class="csharp">var jsonData = objectStore.ReadJson&lt;Dictionary&lt;string, int&gt;&gt;("saveJson");</pre>
    </div>
    <img class="csharp" src="https://cdn.quantconnect.com/i/tu/store-data-read-json-cs.png">
</ol>

<h4 class="csharp">ReadXml</h4>
<ol class="csharp">
    <li class="csharp">Use <code>ContainsKey</code> to check if the key-value pair is in the <code>ObjectStore</code>.</li>
    <div class="csharp section-example-container">
       <pre class="csharp">objectStore.ContainsKey("saveXml")</pre>
    </div>
    <img class="csharp" src="https://cdn.quantconnect.com/i/tu/store-data-save-xml-cs.png">

    <li class="csharp">Call the <code>ReadXml&lt;T&gt;</code> method to read the stored XML object.</li>
    <div class="csharp section-example-container">
        <pre class="csharp">var xmlData = objectStore.ReadXml&lt;XElement&gt;("saveXml");</pre>
    </div>

    <li class="csharp">Reconstruct the original sample object.</li>
    <div class="csharp section-example-container">
        <pre class="csharp">var dict = xmlData.Elements().ToDictionary(x => x.Name.LocalName, x => int.Parse(x.Value));</pre>
    </div>
    <img class="csharp" src="https://cdn.quantconnect.com/i/tu/store-data-read-xml-cs.png">
</ol>
