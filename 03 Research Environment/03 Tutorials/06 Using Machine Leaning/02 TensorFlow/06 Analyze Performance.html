<p>To test the model, we'll setup a method to plot test set predictions ontop of the SPY price.</p>

<div class="section-example-container">
    <pre class="python">def test_model(sess, output, title, X):
    prediction = sess.run(output, feed_dict={X: X_test})
    prediction = prediction.reshape(prediction.shape[1], 1)

    y_test.reset_index(drop=True).plot(figsize=(16, 6), label="Actual")
    plt.plot(prediction, label="Prediction")
    plt.title(title)
    plt.xlabel("Time step")
    plt.ylabel("SPY Price")
    plt.legend()
    plt.show()

test_model(sess, output, "Test Set Results from Original Model", X)</pre>
</div>

<img style="max-width: 100%; display: block" src="https://cdn.quantconnect.com/i/tu/tf-test.png">

<p> We can see the output bias (intercept) is higher than actual price, and the predictions' changes are 1-step lagging. This indicates the model is requires more stationary inputs and outputs, as well as better predicting data.</p>