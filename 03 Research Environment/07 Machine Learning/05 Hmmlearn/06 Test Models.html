<p>We can test our model is working by predict and visualize the in-sample data.</p>

<div class="section-example-container">
    <pre class="python"># Predict in-sample data.
y = model.predict(X)

# Plot the result.
plt.figure(figsize=(15, 10))
plt.scatter(ret.index, [f'Regime {n+1}' for n in y])
plt.title(f'{symbol} market regime')
plt.xlabel("time")
plt.show()</pre>
</div>

<img style="max-width: 100%; display: block" src="https://cdn.quantconnect.com/i/tu/hmmmodel-test.png">