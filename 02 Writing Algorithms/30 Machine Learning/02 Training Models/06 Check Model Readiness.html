
<p>In backtests, the <code>Train</code> method is synchronous, so it blocks your algorithm execution while the model trains. In live trading, the <code>Train</code> method is asynchronously, so ensure your model is trained before you continue the algorithm execution. Training occurs on a separate thread, so set a boolean flag to notify your algorithm of the model state. A <span class='new-term'>semaphore</span> is a thread-safe flag you can use to synchronize program operation across different threads. <br></p>
<div class="section-example-container">
<pre>class SemaphoreTrainingAlgorithm(QCAlgorithm):

    # Model Object
    model = None
    # Model State Flag
    modelIsTraining = False

    def Initialize(self): 
        self.Train(self.MyTraining)
    
    def MyTraining(self):
        self.modelIsTraining = True
        # Perform Work..... 
        self.modelIsTraining = False
    
    def OnData(self, data): 
        # Do not use model while its being trained.
        if self.modelIsTraining:
            return
        
        # Once training is complete; use the model safely.
        result = self.model.Predict()
</pre>
</div>
