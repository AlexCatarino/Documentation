<p>The <code>WeightedBy</code> extension calculates the average <code>.Current.Value</code> of an indicator over a lookback period, weighted by another indicator over the same lookback period. The value of the calculation is <br></p>

<img class="docs-image" style="max-height: 100px" src="https://cdn.quantconnect.com/i/tu/weighted-by-extension-formula.jpg">

<p>where <span class="latex-variable">x</span> is a vector that contains the historical values of the first indicator, <span class="latex-variable">y</span> is a vector that contains the historical values of the second indicator, and <span class="latex-variable">n</span> is the lookback period.</p>

<div class="section-example-container">
<pre class="csharp">var smaShort = SMA("SPY", 14); 
var smaLong = SMA("SPY", 21); 
var weightedSMA = smaShort.WeightedBy(smaLong, 3);
</pre>
<pre class="python">sma_short = self.SMA("SPY", 14)
sma_long = self.SMA("SPY", 21)
weighted_sma = IndicatorExtensions.WeightedBy(sma_short, sma_long, 3)
</pre>
</div>
