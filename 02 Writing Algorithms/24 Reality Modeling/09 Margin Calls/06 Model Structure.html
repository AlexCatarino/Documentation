<p>Margin call models must extend the <code>DefaultMarginCallModel</code> class. Extensions of the <code>DefaultMarginCallModel</code> class can override the <code>GetMarginCallOrders</code> and <code>ExecuteMarginCall</code> methods.</p>

<p>The <code>GetMarginCallOrders</code> method scans the portfolio and the updated data for a potential margin call situation that may get the holdings below zero. The method must return a list of <code>SubmitOrderRequest</code> objects that represent the margin call orders. To issue a margin call warning during this method, set the <code>issueMarginCallWarning</code> argument of the method to true. </p>

<p>The <code>ExecuteMarginCall</code> method receives the list of <code>SubmitOrderRequest</code> objects from the <code>GetMarginCallOrders</code> method, executes some of them, and returns a list of <code>OrderTicket</code> objects.</p>

<div class="section-example-container">
	<pre class="csharp">public class MyMarginCallModel : DefaultMarginCallModel
{
	public MyMarginCallModel(SecurityPortfolioManager portfolio, IOrderProperties defaultOrderProperties)
		: base(portfolio, defaultOrderProperties)
	{
	}
	
	protected override SubmitOrderRequest GenerateMarginCallOrder(Security security, decimal totalPortfolioValue, decimal totalUsedMargin)
	{
		return base.GenerateMarginCallOrder(security, totalPortfolioValue, totalUsedMargin)
	}

	public override List&lt;OrderTicket&gt; ExecuteMarginCall(IEnumerable&lt;SubmitOrderRequest&gt; generatedMarginCallOrders)
	{
		return base.ExecuteMarginCall(generatedMarginCallOrders)
	}
}</pre>
	<pre class="python">class MyMarginCallModel(DefaultMarginCallModel):
	def __init__(self, portfolio: SecurityPortfolioManager, defaultOrderProperties: IOrderProperties):
		super().__init__(portfolio, defaultOrderProperties)
	
	def GenerateMarginCallOrder(self, security: Security, totalPortfolioValue: float, totalUsedMargin: float) -&gt; SubmitOrderRequest:
		return super().GenerateMarginCallOrder(security, totalPortfolioValue, totalUsedMargin)

	def ExecuteMarginCall(self, generatedMarginCallOrders: List[SubmitOrderRequest]) -&gt; List[OrderTicket]:
		return super().ExecuteMarginCall(generatedMarginCallOrders)</pre>
</div>

