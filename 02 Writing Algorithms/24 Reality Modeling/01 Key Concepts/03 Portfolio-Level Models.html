<div>What is portfolio modelling:<br>&nbsp;&nbsp;&nbsp; - Portfolios are semi-closed systems
 (closed except for when you're depositing/withdrawing funds or fees are
 incurred) where their state is updated over time<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - The equity of the portfolio just transitions between assets (cash and securities)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - The equity doesn't change. What changes is the value of the things we buy<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - The portfolio has the holdings that are updated by the orders</div><div><br></div><div>Why is there portfolio modeling:<br>&nbsp;&nbsp;&nbsp; - To track/update the average price of security holdings with each order fill</div><div><br></div><div>At the portfolio-level, you can set the margin call model.

</div>To set the margin call model, call the SetMarketCallModel method

<div class="section-example-container">
<pre class="csharp">Portfolio.SetMarginCallModel(new DefaultMarginCallModel(Portfolio, DefaultOrderProperties));
</pre>
<pre class="python">self.Portfolio.SetMarginCallModel(DefaultMarginCallModel(self.Portfolio, self.DefaultOrderProperties))</pre>
</div>