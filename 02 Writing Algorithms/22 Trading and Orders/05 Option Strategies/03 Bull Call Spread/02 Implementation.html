<p>Follow the below steps to implement the bear call spread strategy</p>

<ol>
    <li>Initialize your algorithm by setting the start date, the end date and the cash for your algorithm. Then, implement the coarse selection of option contracts.</li>
    <div class="section-example-container">
        <pre class="python">def Initialize(self):
    self.SetStartDate(2017, 2, 1)
    self.SetEndDate(2017, 3, 1)
    self.SetCash(500000)

    option = self.AddOption("GOOG", Resolution.Minute)
    self.symbol = option.Symbol
    option.SetFilter(self.UniverseFunc)

def UniverseFunc(self, universe):
    return universe.IncludeWeeklys().Strikes(-15, 15).Expiration(timedelta(0), timedelta(31))</pre>
    </div>

    <li>Choose the contracts with the same expiration date. For demonstration purpose here we sorted the contracts by their expiration dates and choose the options with the furthest expiration date in the option chain.</li>
    <div class="section-example-container">
        <pre class="python">def OnData(self, data):
    if self.Portfolio.Invested: return

    chain = data.OptionChains.get(self.symbol, None)
    if not chain: return

    # sorted the optionchain by expiration date and choose the furthest date
    expiry = sorted(chain, key = lambda x: x.Expiry, reverse=True)[0].Expiry</pre>
    </div>
    
    <li>Filter the call options from the contracts which expire on the furthest expiration date in the option chain.</li>
    <div class="section-example-container">
        <pre class="python">calls = [i for i in chain if i.Expiry == expiry and i.Right == OptionRight.Call]
if len(calls) == 0: return</pre>
    </div>

    <li>Sort the call options with the same expiration date according to their strike price.</li>
    <div class="section-example-container">
        <pre class="python">call_strikes = sorted([x.Strike for x in calls])</pre>
    </div>

    <li>Call <code>OptionStrategies.BullCallSpread</code> to buy the call option with the lowest strike price and sell the call with the highest strike price.</li>
    <div class="section-example-container">
        <pre class="python">option_strategy = OptionStrategies.BullCallSpread(self.symbol, call_strikes[0], call_strikes[-1], expiry)
# We open a position with 1 unit of the option strategy
self.Buy(option_strategy, 1)</pre>
    </div>
</ol>