<p>Follow these steps to implement the covered call strategy.</p>

<ol>
    <li>Initialize the Algorithm: At the beginning of your algorithm, you need to set the start date, the end date and the cash required for the algorithm. For options algorithm, you need to add the equity and the options written on this equity.</li>
    <div class="section-example-container">
        <pre class="python">def Initialize(self):
    self.SetStartDate(2016, 1, 1)
    self.SetEndDate(2016, 3, 1)
    self.SetCash(100000)
    equity = self.AddEquity("IBM", Resolution.Minute)
    option = self.AddOption("IBM", Resolution.Minute)
    self.symbol = option.Symbol
    # set our strike/expiry filter for this option chain
    option.SetFilter(-3, +3, timedelta(0), timedelta(30))
    # use the underlying equity as the benchmark
    self.SetBenchmark(equity.Symbol)
    self.call = "IBM" # Initialize the call contract</pre>
    </div>
  
    <li>Filter out the call options from candidate contracts.</li>
    <div class="section-example-container">
        <pre class="python">call = [x for x in chain if x.Right == OptionRight.Call]</pre>
    </div>
    
    <li>Select the most ATM contract with the furthest expiration date from call options contracts. Sell this call contract for each 100 shares of stock you own. Here you can also choose ITM or OTM contract based on your expected level of profit and the level of risk you can take.</li>
    <div class="section-example-container">
        <pre class="python">def TradeOptions(self,slice):
		if slice.OptionChains.Count == 0: return
    for i in slice.OptionChains:
        if i.Key != self.symbol: continue
        chain = i.Value
        call = [x for x in chain if x.Right == 0] # filter the call options contracts
        # sorted the contracts according to their expiration dates and choose the ATM options
        contracts = sorted(sorted(call, key = lambda x: abs(chain.Underlying.Price - x.Strike)),
                                        key = lambda x: x.Expiry, reverse=True)
        if len(contracts) == 0: return
        contract = contracts[0]
        self.call = contract.Symbol
        self.Sell(self.call, 1) # short the call options
        if self.Portfolio["IBM"].Quantity == 0:
            self.Buy("IBM",100)     # buy 100 the underlying stock
            self.Log("The stock price at time 0 S(0): {}".format(self.Securities["IBM"].Price))</pre>
    </div>
</ol>