<p>Market on close orders fill at the closing auction. To monitor the fills of your order, save a reference to the <a href="/docs/v2/writing-algorithms/trading-and-orders/order-management/order-tickets">order ticket</a>.</p>

<div class="section-example-container">
<pre class="csharp">// Buy 10 shares of SPY at the market close
var ticket = MarketOnCloseOrder("SPY", 10);
Debug($"Quantity filled: {ticket.QuantityFilled}; Fill price: {ticket.AverageFillPrice}");</pre>
<pre class="python"># Buy 10 shares of SPY at the market close
ticket = self.MarketOnCloseOrder("SPY", 10)
self.Debug(f"Quantity filled: {ticket.QuantityFilled}; Fill price: {ticket.AverageFillPrice}")</pre>
</div>

<p>
- When you place a market on close order, you do not know its fill price until after the order is completed. If your order quantity is too close to your total portfolio buying power and the security is very volatile, your order may be rejected. We recommend you consider this when sizing your portfolio to increase your probability of successful trades. You may need to adjust your cash buffer<br></p>
- Not guaranteed to fill if the auction is heavily skewed to one side of the order book 



<p>For more information about how LEAN models order fills in backtests, see <a href="/docs/v2/writing-algorithms/reality-modeling/trade-fills">Trade Fills</a>.</p>
