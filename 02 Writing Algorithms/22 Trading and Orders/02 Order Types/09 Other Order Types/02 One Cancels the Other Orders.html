<p>One cancels the other (OCO) orders are a set of orders that when one fills, it cancels the rest of the orders in the set. An example is to set a take-profit and a stop-loss order right after you enter a position. In this example, when either the take-profit or stop-loss order fills, you cancel the other order. OCO orders usually create an upper and lower bound on the exit price of a trade. </p>

<p>When you place OCO orders, their price levels are usually relative to the fill price of an entry trade. If your entry trade is a synchronous market order, you can immediately get the fill price from the order ticket. If your entry trade doesn't execute immediately, you can get the fill price in the <a href="/docs/v2/writing-algorithms/trading-and-orders/order-events#04-Track-Order-Events">OnOrderEvents</a> event handler. Once you have the entry fill price, you can calculate the fill price for the OCO orders.</p> 

<div class="section-example-container">
<pre class="csharp">// Get the fill price from the order ticket of a sync market order

// Get the fill price from the OnOrderEvent event handler</pre>
<pre class="python"># Get the fill price from the order ticket of a sync market order

# Get the fill price from the OnOrderEvent event handler</pre>
</div>

<p>After you have the target price levels, to implement the OCO orders, you can place active orders or track the security price to simulate them.</p>

<h4>Place Active Orders</h4>

<p>To place active orders for the OCO orders, use a combination of <a href='/docs/v2/writing-algorithms/trading-and-orders/order-types/limit-orders'>limit orders</a> and <a href='/docs/v2/writing-algorithms/trading-and-orders/order-types/stop-limit-orders'>stop limit orders</a>. Place these orders so that their price levels that are far enough apart from each other. If their price levels are too close, several of the orders can fill in a single time step.</p>

<div class="section-example-container">
<pre class="csharp">// Starting point: https://www.quantconnect.com/forum/discussion/562/one-cancels-other-or-all-and-order-attachment/p1/comment-22133</pre>
<pre class="python"># Starting point: https://www.quantconnect.com/forum/discussion/562/one-cancels-other-or-all-and-order-attachment/p1/comment-22133</pre>
</div>

<h4>Simulate Orders</h4>
<p>To simulate OCO orders, track the asset price in the <code>OnData</code> method and place <a href='/docs/v2/writing-algorithms/trading-and-orders/order-types/market-orders'>market</a> or <a href='/docs/v2/writing-algorithms/trading-and-orders/order-types/limit-orders'>limit orders</a> when asset price reaches the take-profit or stop-loss level. The benefit of manually simulating the OCO orders is that both of the orders can't fill in the same time step.</p>

<div class="section-example-container">
<pre class="csharp">// Starting point https://www.quantconnect.com/forum/discussion/13538/es-scalping-onorderevent-oco-problem/p1/comment-39887</pre>
<pre class="python"># Starting point https://www.quantconnect.com/forum/discussion/13538/es-scalping-onorderevent-oco-problem/p1/comment-39887</pre>
</div>
