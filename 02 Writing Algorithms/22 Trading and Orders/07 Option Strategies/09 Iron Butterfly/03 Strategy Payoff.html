<p>The iron butterfly can be long or short.</p>
<h4>Long Iron Butterfly</h4>
<p>The long iron butterfly is a limited-reward-limited-risk strategy. The payoff is</p>
$$
\begin{array}{rcll}
C^{OTM}_T &amp; = &amp; (S_T - K^{\textrm{OTM call}})^{+}\\
C^{ATM}_T &amp; = &amp; (S_T - K^{\textrm{ATM call}})^{+}\\
P^{OTM}_T &amp; = &amp; (K^{\textrm{OTM put}} - S_T)^{+}\\
P^{ATM}_T &amp; = &amp; (K^{\textrm{ATM put}} - S_T)^{+}\\
P_T &amp; = &amp; (C^{ATM}_T + P^{ATM}_T - C^{OTM}_T - P^{OTM}_T - C^{ATM}_0 - P^{ATM}_0 + C^{OTM}_0 + P^{OTM}_0)\times m - fee
\end{array}
$$
$$
\begin{array}{rcll}
\textrm{where} &amp; C^{OTM}_T &amp; = &amp; \textrm{OTM call value at time T}\\
&amp; C^{ATM}_T &amp; = &amp; \textrm{ATM call value at time T}\\
&amp; P^{OTM}_T &amp; = &amp; \textrm{OTM put value at time T}\\
&amp; P^{ATM}_T &amp; = &amp; \textrm{ATM put value at time T}\\
&amp; S_T &amp; = &amp; \textrm{Underlying asset price at time T}\\
&amp; K^{\textrm{OTM call}} &amp; = &amp; \textrm{OTM call strike price}\\
&amp; K^{\textrm{ATM call}} &amp; = &amp; \textrm{ATM call strike price}\\
&amp; K^{\textrm{OTM put}} &amp; = &amp; \textrm{OTM put strike price}\\
&amp; K^{\textrm{ATM put}} &amp; = &amp; \textrm{ATM put strike price}\\
&amp; P_T &amp; = &amp; \textrm{Payout total at time T}\\
&amp; C^{OTM}_0 &amp; = &amp; \textrm{OTM call value at position opening (credit received)}\\
&amp; C^{ATM}_0 &amp; = &amp; \textrm{ATM call value at position opening (debit paid)}\\
&amp; P^{OTM}_0 &amp; = &amp; \textrm{OTM put value at position opening (credit received)}\\
&amp; P^{ATM}_0 &amp; = &amp; \textrm{ATM put value at position opening (debit paid)}\\
&amp; m &amp; = &amp; \textrm{Contract multiplier}\\
&amp; T &amp; = &amp; \textrm{Time of expiration}
\end{array}
$$
<br>
<p>The following chart shows the payoff at expiration:</p>
<img class="docs-image" src="https://cdn.quantconnect.com/i/tu/long-iron-butterfly.png">

<p>The maximum profit is $K^{\textrm{OTM call}} - K^{\textrm{ATM call}} - C^{ATM}_0 - P^{ATM}_0 + C^{OTM}_0 + P^{OTM}_0$, where the underlying price fell below the OTM put strike or above the OTM call strike price at expiration.</p>
<p>Maximum loss is the net debit paid:$C^{OTM}_0 + P^{OTM}_0 - C^{ATM}_0 - P^{ATM}_0$, where the underlying price stays the same as the trade opens.</p>
<p>If the option is American option, there will be a risk of early assignment on the shorted option.</p>

<h4>Short Call Butterfly</h4>
<p>The short call butterfly is a limited-reward-limited-risk strategy. The payoff is</p>
$$
\begin{array}{rcll}
C^{OTM}_T &amp; = &amp; (S_T - K^{\textrm{OTM call}})^{+}\\
C^{ATM}_T &amp; = &amp; (S_T - K^{\textrm{ATM call}})^{+}\\
P^{OTM}_T &amp; = &amp; (K^{\textrm{OTM put}} - S_T)^{+}\\
P^{ATM}_T &amp; = &amp; (K^{\textrm{ATM put}} - S_T)^{+}\\
P_T &amp; = &amp; (C^{OTM}_T + P^{OTM}_T - C^{ATM}_T - P^{ATM}_T - C^{OTM}_0 - P^{OTM}_0 + C^{ATM}_0 + P^{ATM}_0)\times m - fee
\end{array}
$$
$$
\begin{array}{rcll}
\textrm{where} &amp; C^{OTM}_T &amp; = &amp; \textrm{OTM call value at time T}\\
&amp; C^{ATM}_T &amp; = &amp; \textrm{ATM call value at time T}\\
&amp; P^{OTM}_T &amp; = &amp; \textrm{OTM put value at time T}\\
&amp; P^{ATM}_T &amp; = &amp; \textrm{ATM put value at time T}\\
&amp; S_T &amp; = &amp; \textrm{Underlying asset price at time T}\\
&amp; K^{\textrm{OTM call}} &amp; = &amp; \textrm{OTM call strike price}\\
&amp; K^{\textrm{ATM call}} &amp; = &amp; \textrm{ATM call strike price}\\
&amp; K^{\textrm{OTM put}} &amp; = &amp; \textrm{OTM put strike price}\\
&amp; K^{\textrm{ATM put}} &amp; = &amp; \textrm{ATM put strike price}\\
&amp; P_T &amp; = &amp; \textrm{Payout total at time T}\\
&amp; C^{OTM}_0 &amp; = &amp; \textrm{OTM call value at position opening (debit paid)}\\
&amp; C^{ATM}_0 &amp; = &amp; \textrm{ATM call value at position opening (credit received)}\\
&amp; P^{OTM}_0 &amp; = &amp; \textrm{OTM put value at position opening (debit paid)}\\
&amp; P^{ATM}_0 &amp; = &amp; \textrm{ATM put value at position opening (credit received)}\\
&amp; m &amp; = &amp; \textrm{Contract multiplier}\\
&amp; T &amp; = &amp; \textrm{Time of expiration}
\end{array}
$$
<br>
<p>The following chart shows the payoff at expiration:</p>
<img class="docs-image" src="https://cdn.quantconnect.com/i/tu/short-iron-butterfly.png">

<p>The maximum profit is the net credit received: $C^{ATM}_0 + P^{ATM}_0 - C^{OTM}_0 - P^{OTM}_0$, where the underlying price stays the same as the trade opens.</p>
<p>Maximum loss is $K^{\textrm{OTM call}} - K^{\textrm{ATM call}} - C^{ATM}_0 - P^{ATM}_0 + C^{OTM}_0 + P^{OTM}_0$, where the underlying price fell below the OTM put strike or above the OTM call strike price at expiration.</p>
<p>If the option is American option, there will be a risk of early assignment on the shorted option.</p>
