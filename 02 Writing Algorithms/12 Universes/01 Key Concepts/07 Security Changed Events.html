<p>When your universe adds and removes assets, LEAN notifies your algorithm through the <code>OnSecuritiesChanged</code> event handler. The event handler receives a <code>SecurityChanges</code> object, which contains references to the added and removed securities. To access the added securities, check the changes.AddedSecurities property. To access the removed securities, check the changes.RemovedSecurities property.</p> 

<div class="section-example-container">
<pre class="csharp">public override void OnSecuritiesChanged(SecurityChanges changes)
{
    foreach (var security in changes.AddedSecurities)
    {
        Debug($"{Time}: Added {security.Symbol}");
    }
    foreach (var security in changes.RemovedSecurities)
    {
        Debug($"{Time}: Removed {security.Symbol}");
    }
}
</pre>
<pre class="python">def OnSecuritiesChanged(self, changes):
    for security in changes.AddedSecurities:
        self.Debug(f"{self.Time}: Added {security.Symbol}")

    for security in changes.RemovedSecurities:
        self.Debug(f"{self.Time}: Removed {security.Symbol}")</pre>
</div>

<p class="csharp">A convenient way to track the securities that are currently in the universe is to use the <code>NotifiedSecurityChanges</code> class.</p>
<p class="python">A convenient way to track the securities that are currently in the universe is maintain a <code>self.securities</code> list.</p>

<div class="section-example-container">
<pre class="csharp">// Example of using NotifiedSecurityChanges</pre>
<pre class="python"># Example of using `self.securities += changes.AddedSecurities`</pre>
</div>

<p>If you need to save data or create objects for each security in the universe, maintain a dictionary of custom <code>SymbolData</code> objects. This technique is useful if you want to track stop loss levels or add <a href="https://www.quantconnect.com/docs/v2/writing-algorithms/indicators/key-concepts">indicators</a> for each asset in the universe.</p>

<div class="section-example-container">
<pre class="csharp"></pre>
<pre class="python">symbol_data_by_symbol = {}

def OnSecuritiesChanged(self, changes):
    for security in changes.AddedSecurities:
        self.symbol_data_by_symbol[security.Symbol] = SymbolData() # You need to define this class

    for security in changes.RemovedSecurities:
        self.symbol_data_by_symbol.pop(security.Symbol, None)</pre>
</div>

