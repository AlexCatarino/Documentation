-To access historical bars that were passed to your consolidation handler, save the bars as they are produced. You can use RollingWindow objects to save the consolidated bars and easily access them later on in your algorithm.
<p>
A common request is to compare a current consolidated bar with one from the past. This can be achieved by combining a <a class="docs-internal-link" href="/docs/algorithm-reference/rolling-window">RollingWindow</a> with a Consolidator. This is easy to achieve with the individual tools provided here and in the RollingWindow documentation. First, you must create a consolidator for the data you need, and then you must add it to the rolling window in the event handler. Building this will allow you to easily compare recent custom-bars with previous ones created.
</p>
<div class="section-example-container">
<pre class="csharp">// Create a class member to store the RollingWindow
_window = new RollingWindow&lt;TradeBar&gt;(2);

// In the consolidation handler, add consolidated bars to the RollingWindow
private void ConsolidationHandler(object sender, TradeBar consolidatedBar) {
    _window.Add(consolidatedBar);
}</pre>
<pre class="python"># Create a class member to store the RollingWindow
self.window = RollingWindow[TradeBar](2)

# In the consolidation handler, add consolidated bars to the RollingWindow
def consolidation_handler(self, sender, consolidated_bar):
    self.window.Add(consolidated_bar)</pre>
</div>
