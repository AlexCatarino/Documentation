<div>What are count consolidators?
<br>-Count consolidators aggregate data based on a number of bars or ticks<br>-You can consolidate Trade Ticks and TradeBars into TradeBars // Quote Ticks and QuoteBars into QuoteBars <br></div><div>- You can consolidate a certain number of bars or ticks using the count 
constructor of the consolidators. It will have the effect of joining 
n-bars together.</div><div><br></div><div>
Why use time period consolidators?
<br>- To build custom time period bars. <br>- These time periods are less researched than the standard resolution bars.</div>


<p>
Follow these steps to manually create a consolidator:</p><p>1) Create a consolidator object (TradeBarConsolidator, QuoteBarConsolidator, TickConsolidator, or TickQuoteConsolidator) and provide the constructor with the number of ticks/bars to consolidate.<br></p><p>2) Define the consolidation event handler</p><p>3) Add the event handler to the consolidator</p>

<div class="section-example-container">
<pre class="python">def Initialize(self):
    self.consolidator = TradeBarConsolidator(30)
    self.consolidator.DataConsolidated += self.consolidation_handler
    
def consolidation_handler(self, sender, consolidated_bar):
    self.Debug(str(consolidated_bar.EndTime - consolidated_bar.Time) + " " + consolidated_bar.ToString())
</pre>
<pre class="csharp">public override void Initialize()
{ 
    _consolidator = new TradeBarConsolidator(30);
    _consolidator.DataConsolidated += ConsolidationHandler;
}

private void ConsolidationHandler(object sender, TradeBar consolidatedBar) {
    Debug((consolidatedBar.EndTime - consolidatedBar.Time).ToString() + " " + consolidatedBar.ToString());
}
</pre>
</div>

<p>The consolidation handler receives the consolidated bar as soon as the nth bar is passed to the consolidator.</p>
