<p>Renko consolidators aggregate bars based on a fixed price movement. To create Renko bars, you can use the <code>RenkoConsolidator</code> or the <code>ClassicRenkoConsolidator</code>.</p>

<h4>Renko Consolidator</h4>
<p>The <code>RenkoConsolidator</code> produces Renko bars by their traditional definition. A <code>RenkoConsolidator</code> with a bar size of $1 produces a new bar that spans $1 every time an asset closes $1 above the high of the previous bar or $1 below the low of the previous bar. If the price jumps multiple dollars in a single tick, the <code>RenkoConsolidator</code> produces multiple $1 bars in a single time step. To create this type of Renko consolidator, pass the bar size to the <code>RenkoConsolidator</code> constructor.</p>

<div class="section-example-container">
<pre class="python"># Create a Renko consolidator that emits a bar when the price moves $1
self.consolidator = RenkoConsolidator(1)</pre>
<pre class="csharp">// Create a Renko consolidator that emits a bar when the price moves $1
_consolidator = new RenkoConsolidator(1m);</pre>
</div>

<p>When the consolidator produces a new Renko bar, it passes the consolidated bar to the <a href="/docs/v2/writing-algorithms/consolidating-data/key-concepts#04-Receive-Consolidated-Bars">event handler</a>.</p>

<h4>Classic Renko Consolidator</h4>
<p>The <code>ClassicRenkoConsolidator</code> produces a different type of Renko bars than the <code>RenkoConsolidator</code>. A <code>ClassicRenkoConsolidator</code> with a bar size of $1 produces a new bar that spans $1 every time an asset closes $1 away from the close of the previous bar. If the price jumps multiple dollars in a single tick, the <code>ClassicRenkoConsolidator</code> only produces one bar per time step where the open of each bar matches the close of the previous bar. To create this type of Renko consolidator, pass the bar size to the <code>ClassicRenkoConsolidator</code> constructor.</p>

<div class="section-example-container">
<pre class="python"># Create a Classic Renko consolidator that emits a bar when the price moves $1
self.consolidator = ClassicRenkoConsolidator(1)</pre>
<pre class="csharp">// Create a Classic Renko consolidator that emits a bar when the price moves $1
_consolidator = new ClassicRenkoConsolidator(1m);</pre>
</div>

<p>The <code>ClassicRenkoConsolidator</code> has the following default behavior:</p>
<ul>
    <li>It uses the <code>Value</code> property of the <code>IBaseData</code> object it receives to build the Renko bars</li>
    <li>It ignores the volume of the input data</li>
    <li>It enforces the open and close of each bar to be a multiple of the bar size</li>
</ul>

<p>To build the Renko bars with a different property than the <code>Value</code> of the <code>IBaseData</code> object, provide a <code>selector</code> argument. The <code>selector</code> should be a function that receives the <code>IBaseData</code> object and returns a decimal value.</p>

<div class="section-example-container">
<pre class="python">self.consolidator = ClassicRenkoConsolidator(1, selector = lambda data: data.High)</pre>
<pre class="csharp">_consolidator = new ClassicRenkoConsolidator(1m, selector: data => data.High);</pre>
</div>

<p>To add a non-zero <code>Volume</code> property to the Renko bars, provide a <code>volumeSelector</code> argument. The <code>volumeSelector</code> should be a function that receives the <code>IBaseData</code> object and returns a decimal value.</p>

<div class="section-example-container">
<pre class="python">self.consolidator = ClassicRenkoConsolidator(1, volumeSelector = lambda data: data.Volume)</pre>
<pre class="csharp">_consolidator = new ClassicRenkoConsolidator(1m, volumeSelector: data => data.Volume);</pre>
</div>

<p>To relax the requirement that the open and close of the Renko bars must be a multiple of bar size, disable the <code>evenBars</code> argument. If you disable <code>evenBars</code>, the open value of the first Renko bar is set to the first value from the <code>selector</code>. The following opening and closing Renko bar values are all multiples of the first value from the <code>selector</code></p>

<div class="section-example-container">
<pre class="python">self.consolidator = ClassicRenkoConsolidator(1, evenBars = False)</pre>
<pre class="csharp">_consolidator = new ClassicRenkoConsolidator(1m, evenBars: false);</pre>
</div>

<p>The preceding arguments enable you to create volume bars.</p>

<div class="section-example-container">
<pre class="python"># Create a Classic Renko consolidator that emits a bar when the volume moves 1000
self.consolidator = ClassicRenkoConsolidator(1000, lambda x: x.Volume, lambda x: x.Volume)</pre>
<pre class="csharp">// Create a Classic Renko consolidator that emits a bar when the volume moves 1000
_consolidator = new ClassicRenkoConsolidator(1000m, x =&gt; x.Volume, x =&gt; x.Volume);</pre>
</div>

<p>To view a full example of a <code>ClassicRenkoConsolidator</code>, see the <a href="https://github.com/QuantConnect/Lean/blob/master/Algorithm.Python/ClassicRenkoConsolidatorAlgorithm.py" class="python" rel="nofollow" target="_blank">ClassicRenkoConsolidatorAlgorithm</a><a href="https://github.com/QuantConnect/Lean/blob/master/Algorithm.CSharp/ClassicRenkoConsolidatorAlgorithm.cs" class="csharp" rel="nofollow" target="_blank">ClassicRenkoConsolidatorAlgorithm</a> in the LEAN GitHub repository.</p>


<p>When the consolidator produces a new Renko bar, it passes the consolidated bar to the <a href="/docs/v2/writing-algorithms/consolidating-data/key-concepts#04-Receive-Consolidated-Bars">event handler</a>.</p>
