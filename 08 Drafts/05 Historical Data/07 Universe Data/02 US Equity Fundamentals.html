<p>The following example gets the history of a US Equity <a href='/docs/v2/writing-algorithms/universes/equity/fundamental-universes'>fundamental universe</a>:</p>

<div class="section-example-container">
    <pre class="csharp">public class USEquityFundamentalUniverseHistoryAlgorithm : QCAlgorithm
{
    public override void Initialize()
    {
        SetStartDate(2024, 12, 23);
        // Add a universe of US Equities based on the Fundamentals dataset.
        var universe = AddUniverse(fundamentals => fundamentals.Select(f => f.Symbol));
        // Get 5 days of history for the universe.
        var history = History(universe, TimeSpan.FromDays(5));
        // Iterate through each day of the universe history.
        foreach (var fundamentals in history)
        {
            // Iterate through each asset in the universe on this day and access its data point attributes.
            foreach (Fundamental f in fundamentals)
            {
                var symbol = f.Symbol;
                var t = f.EndTime;
                var peRatio = f.ValuationRatios.PERatio;
            }
        }
    }
}</pre>
    <pre class="python">class USEquityFundamentalUniverseHistoryAlgorithm(QCAlgorithm):

    def initialize(self) -> None:
        self.set_start_date(2024, 12, 23)
        # Add a universe of US Equities based on the Fundamentals dataset.
        universe = self.add_universe(lambda fundamentals: [f.symbol for f in fundamentals])
        # Get 5 days of history for the universe.
        history = self.history(universe, timedelta(5), flatten=True)</pre>
</div>

<div class="dataframe-wrapper">
<table class="dataframe python">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>adjustedprice</th>
      <th>assetclassification</th>
      <th>companyprofile</th>
      <th>companyreference</th>
      <th>dollarvolume</th>
      <th>earningratios</th>
      <th>earningreports</th>
      <th>financialstatements</th>
      <th>hasfundamentaldata</th>
      <th>market</th>
      <th>marketcap</th>
      <th>operationratios</th>
      <th>pricefactor</th>
      <th>pricescalefactor</th>
      <th>securityreference</th>
      <th>splitfactor</th>
      <th>valuationratios</th>
      <th>value</th>
      <th>volume</th>
    </tr>
    <tr>
      <th>time</th>
      <th>symbol</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">2024-12-19</th>
      <th>A RPTMYV3VC57P</th>
      <td>132.764597</td>
      <td>QuantConnect.Data.Fundamental.AssetClassification</td>
      <td>QuantConnect.Data.Fundamental.CompanyProfile</td>
      <td>QuantConnect.Data.Fundamental.CompanyReference</td>
      <td>219150734.0</td>
      <td>QuantConnect.Data.Fundamental.EarningRatios</td>
      <td>QuantConnect.Data.Fundamental.EarningReports</td>
      <td>QuantConnect.Data.Fundamental.FinancialStatements</td>
      <td>True</td>
      <td>usa</td>
      <td>39348079727</td>
      <td>QuantConnect.Data.Fundamental.OperationRatios</td>
      <td>0.998155</td>
      <td>0.998155</td>
      <td>QuantConnect.Data.Fundamental.SecurityReference</td>
      <td>1.0</td>
      <td>QuantConnect.Data.Fundamental.ValuationRatios</td>
      <td>133.0100</td>
      <td>1647626</td>
    </tr>
    <tr>
      <th>AA R735QTJ8XC9X</th>
      <td>107.606519</td>
      <td>QuantConnect.Data.Fundamental.AssetClassification</td>
      <td>QuantConnect.Data.Fundamental.CompanyProfile</td>
      <td>QuantConnect.Data.Fundamental.CompanyReference</td>
      <td>262034107.0</td>
      <td>QuantConnect.Data.Fundamental.EarningRatios</td>
      <td>QuantConnect.Data.Fundamental.EarningReports</td>
      <td>QuantConnect.Data.Fundamental.FinancialStatements</td>
      <td>True</td>
      <td>usa</td>
      <td>48093135628</td>
      <td>QuantConnect.Data.Fundamental.OperationRatios</td>
      <td>0.999225</td>
      <td>0.999225</td>
      <td>QuantConnect.Data.Fundamental.SecurityReference</td>
      <td>1.0</td>
      <td>QuantConnect.Data.Fundamental.ValuationRatios</td>
      <td>107.6900</td>
      <td>2433226</td>
    </tr>
    <tr>
      <th>AA WF7IHVI76I5H</th>
      <td>37.310000</td>
      <td>QuantConnect.Data.Fundamental.AssetClassification</td>
      <td>QuantConnect.Data.Fundamental.CompanyProfile</td>
      <td>QuantConnect.Data.Fundamental.CompanyReference</td>
      <td>159500884.0</td>
      <td>QuantConnect.Data.Fundamental.EarningRatios</td>
      <td>QuantConnect.Data.Fundamental.EarningReports</td>
      <td>QuantConnect.Data.Fundamental.FinancialStatements</td>
      <td>True</td>
      <td>usa</td>
      <td>11995414664</td>
      <td>QuantConnect.Data.Fundamental.OperationRatios</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>QuantConnect.Data.Fundamental.SecurityReference</td>
      <td>1.0</td>
      <td>QuantConnect.Data.Fundamental.ValuationRatios</td>
      <td>37.3100</td>
      <td>4275017</td>
    </tr>
    <tr>
      <th>AAA XHPVXIJUWS4L</th>
      <td>24.822618</td>
      <td>QuantConnect.Data.Fundamental.AssetClassification</td>
      <td>QuantConnect.Data.Fundamental.CompanyProfile</td>
      <td>QuantConnect.Data.Fundamental.CompanyReference</td>
      <td>494441.0</td>
      <td>QuantConnect.Data.Fundamental.EarningRatios</td>
      <td>QuantConnect.Data.Fundamental.EarningReports</td>
      <td>QuantConnect.Data.Fundamental.FinancialStatements</td>
      <td>False</td>
      <td>usa</td>
      <td>0</td>
      <td>QuantConnect.Data.Fundamental.OperationRatios</td>
      <td>0.986947</td>
      <td>0.986947</td>
      <td>QuantConnect.Data.Fundamental.SecurityReference</td>
      <td>1.0</td>
      <td>QuantConnect.Data.Fundamental.ValuationRatios</td>
      <td>25.1509</td>
      <td>19659</td>
    </tr>
    <tr>
      <th>AAAU WX1HYU092ESL</th>
      <td>25.635000</td>
      <td>QuantConnect.Data.Fundamental.AssetClassification</td>
      <td>QuantConnect.Data.Fundamental.CompanyProfile</td>
      <td>QuantConnect.Data.Fundamental.CompanyReference</td>
      <td>57235085.0</td>
      <td>QuantConnect.Data.Fundamental.EarningRatios</td>
      <td>QuantConnect.Data.Fundamental.EarningReports</td>
      <td>QuantConnect.Data.Fundamental.FinancialStatements</td>
      <td>False</td>
      <td>usa</td>
      <td>0</td>
      <td>QuantConnect.Data.Fundamental.OperationRatios</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>QuantConnect.Data.Fundamental.SecurityReference</td>
      <td>1.0</td>
      <td>QuantConnect.Data.Fundamental.ValuationRatios</td>
      <td>25.6350</td>
      <td>2232693</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">2024-12-21</th>
      <th>ZUO WTMF35A5I3QD</th>
      <td>9.910000</td>
      <td>QuantConnect.Data.Fundamental.AssetClassification</td>
      <td>QuantConnect.Data.Fundamental.CompanyProfile</td>
      <td>QuantConnect.Data.Fundamental.CompanyReference</td>
      <td>76550429.0</td>
      <td>QuantConnect.Data.Fundamental.EarningRatios</td>
      <td>QuantConnect.Data.Fundamental.EarningReports</td>
      <td>QuantConnect.Data.Fundamental.FinancialStatements</td>
      <td>True</td>
      <td>usa</td>
      <td>1526407764</td>
      <td>QuantConnect.Data.Fundamental.OperationRatios</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>QuantConnect.Data.Fundamental.SecurityReference</td>
      <td>1.0</td>
      <td>QuantConnect.Data.Fundamental.ValuationRatios</td>
      <td>9.9100</td>
      <td>7724564</td>
    </tr>
    <tr>
      <th>ZVIA XQD1725736UD</th>
      <td>3.180000</td>
      <td>QuantConnect.Data.Fundamental.AssetClassification</td>
      <td>QuantConnect.Data.Fundamental.CompanyProfile</td>
      <td>QuantConnect.Data.Fundamental.CompanyReference</td>
      <td>1620426.0</td>
      <td>QuantConnect.Data.Fundamental.EarningRatios</td>
      <td>QuantConnect.Data.Fundamental.EarningReports</td>
      <td>QuantConnect.Data.Fundamental.FinancialStatements</td>
      <td>True</td>
      <td>usa</td>
      <td>91666688</td>
      <td>QuantConnect.Data.Fundamental.OperationRatios</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>QuantConnect.Data.Fundamental.SecurityReference</td>
      <td>1.0</td>
      <td>QuantConnect.Data.Fundamental.ValuationRatios</td>
      <td>3.1800</td>
      <td>509568</td>
    </tr>
    <tr>
      <th>ZVSA Y4A7QNC417J9</th>
      <td>1.140000</td>
      <td>QuantConnect.Data.Fundamental.AssetClassification</td>
      <td>QuantConnect.Data.Fundamental.CompanyProfile</td>
      <td>QuantConnect.Data.Fundamental.CompanyReference</td>
      <td>245696.0</td>
      <td>QuantConnect.Data.Fundamental.EarningRatios</td>
      <td>QuantConnect.Data.Fundamental.EarningReports</td>
      <td>QuantConnect.Data.Fundamental.FinancialStatements</td>
      <td>True</td>
      <td>usa</td>
      <td>2648935</td>
      <td>QuantConnect.Data.Fundamental.OperationRatios</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>QuantConnect.Data.Fundamental.SecurityReference</td>
      <td>1.0</td>
      <td>QuantConnect.Data.Fundamental.ValuationRatios</td>
      <td>1.1400</td>
      <td>215523</td>
    </tr>
    <tr>
      <th>ZYME WK2S2IM8SSPX</th>
      <td>14.120000</td>
      <td>QuantConnect.Data.Fundamental.AssetClassification</td>
      <td>QuantConnect.Data.Fundamental.CompanyProfile</td>
      <td>QuantConnect.Data.Fundamental.CompanyReference</td>
      <td>10554318.0</td>
      <td>QuantConnect.Data.Fundamental.EarningRatios</td>
      <td>QuantConnect.Data.Fundamental.EarningReports</td>
      <td>QuantConnect.Data.Fundamental.FinancialStatements</td>
      <td>True</td>
      <td>usa</td>
      <td>1075178180</td>
      <td>QuantConnect.Data.Fundamental.OperationRatios</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>QuantConnect.Data.Fundamental.SecurityReference</td>
      <td>1.0</td>
      <td>QuantConnect.Data.Fundamental.ValuationRatios</td>
      <td>14.1200</td>
      <td>747473</td>
    </tr>
    <tr>
      <th>ZYXI X1ZPVR7SWYUD</th>
      <td>8.250000</td>
      <td>QuantConnect.Data.Fundamental.AssetClassification</td>
      <td>QuantConnect.Data.Fundamental.CompanyProfile</td>
      <td>QuantConnect.Data.Fundamental.CompanyReference</td>
      <td>2580509.0</td>
      <td>QuantConnect.Data.Fundamental.EarningRatios</td>
      <td>QuantConnect.Data.Fundamental.EarningReports</td>
      <td>QuantConnect.Data.Fundamental.FinancialStatements</td>
      <td>True</td>
      <td>usa</td>
      <td>296163568</td>
      <td>QuantConnect.Data.Fundamental.OperationRatios</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>QuantConnect.Data.Fundamental.SecurityReference</td>
      <td>1.0</td>
      <td>QuantConnect.Data.Fundamental.ValuationRatios</td>
      <td>8.2500</td>
      <td>312789</td>
    </tr>
  </tbody>
</table>
</div>

<div class="python section-example-container">
    <pre class="python"># Get the PE Ratio of the first row in the DataFrame.
pe_ratio = history.iloc[0].valuationratios.pe_ratio</pre>
</div>
