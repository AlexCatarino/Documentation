<p>To send a trailing stop order with an initial stop price, call the <code>TrailingStopOrder</code> method and provide a <code>Symbol</code>, quantity, stop price, trailing amount, and the trailing type. You can also provide a tag and <a href="/docs/v2/writing-algorithms/trading-and-orders/order-properties">order properties</a> to the <code>TrailingStopOrder</code> method. If you do not have sufficient capital for the order, it is rejected.</p>

<div class="section-example-container">
<pre class="csharp">TrailingStopOrder(symbol, quantity, stopPrice, trailingAmount, trailingAsPercentage, tag, orderProperties);</pre>
<pre class="python">self.TrailingStopOrder(symbol, quantity, stopPrice, trailingAmount, trailingAsPercentage, tag, orderProperties)</pre>
</div>

<p>The trailing type is quote currency amount when <code>trailingAsPercentage</code> is <code class="csharp">false</code><code class="python">False</code>.</p>

<p>To buy an asset with a trailing stop order, set the stop price above the current ask price, the trailing amount in quote currency, and the trailing type.</p>
<div class="section-example-container">
<pre class="csharp">// When SPY trades up to $470 with a $30 trailing amount, buy 1 share
TrailingStopOrder("SPY", 1, 470m, 30m, false);</pre>
<pre class="python"># When SPY trades up to $470 with a $30 trailing amount, buy 1 share
self.TrailingStopOrder("SPY", 1, 470, 30, False)</pre>
</div>
<img src="https://cdn.quantconnect.com/i/tu/buy-dollar-2.webp" class="docs-image" alt="When the asset currently trades at $440, the stop price of the buy stop market order is set at $470 and a trailing amount of $30. The order fills when the price trades up to $402.82.">

<p>To buy an asset with a trailing stop order, set the stop price above the current ask price, the trailing amount as percentage, and the trailing type.</p>
<div class="section-example-container">
<pre class="csharp">// When SPY trades up to $470 with a 7% trailing amount, buy 1 share
TrailingStopOrder("SPY", 1, 470m, 0.07m, true);</pre>
<pre class="python"># When SPY trades up to $470 with a 7% trailing amount, buy 1 share
self.TrailingStopOrder("SPY", 470, 0.07, True)</pre>
</div>
<img src="https://cdn.quantconnect.com/i/tu/buy-percent-2.webp" class="docs-image" alt="When the asset currently trades at $440, the stop price of the buy stop market order is set at $470 and a trailing amount of 7%. The order fills when the price trades up to $398.92.">

<p>To sell an asset with a trailing stop order, set the stop price below the current bid price and the trailing amount in quote currency, and the trailing type.</p>
<div class="section-example-container">
<pre class="csharp">// When SPY trades down to $395 with a $20 trailing amount, sell 1 share
TrailingStopOrder("SPY", -1, 395m, 20m, false)</pre>
<pre class="python"># SPY trades down to $395 with a $20 trailing amount, sell 1 share
self.TrailingStopOrder("SPY", -1, 395, 20, False)</pre>
</div>
<img src="https://cdn.quantconnect.com/i/tu/sell-dollar-2.webp" class="docs-image" alt="When the asset currently trades at $415, the stop price of the sell stop market order is set at $395 and a trailing amount of $20. The order fills when the price trades down to $420.49.">

<p>To sell an asset with a trailing stop order, set the stop price below the current bid price and the trailing amount as percentage, and the trailing type.</p>
<div class="section-example-container">
<pre class="csharp">// When SPY trades down to $395 with a 5% trailing amount, sell 1 share
TrailingStopOrder("SPY", -1, 395m, 0.05m, true);</pre>
<pre class="python"># When SPY trades down to $395 with a 5% trailing amount, sell 1 share
self.TrailingStopOrder("SPY", -1, 395, 0.05, True)</pre>
</div>
<img src="https://cdn.quantconnect.com/i/tu/sell-percent-2.webp" class="docs-image" alt="When the asset currently trades at $415, the stop price of the sell stop market order is set at $395 and a trailing amount of 5%. The order fills when the price trades down to $418.46.">

<p>If you don't define the initial stop price, LEAN calculates it with the current security price. To send a trailing stop order, call the <code>TrailingStopOrder</code> method and provide a <code>Symbol</code>, quantity, trailing amount, and the trailing type. You can also provide a tag and <a href="/docs/v2/writing-algorithms/trading-and-orders/order-properties">order properties</a> to the <code>TrailingStopOrder</code> method. If you do not have sufficient capital for the order, it is rejected.</p>
<div class="section-example-container">
    <pre class="csharp">TrailingStopOrder(symbol, quantity, trailingAmount, trailingAsPercentage, tag, orderProperties);</pre>
    <pre class="python">self.TrailingStopOrder(symbol, quantity, trailingAmount, trailingAsPercentage, tag, orderProperties)</pre>
</div>

<p>To buy an asset with a trailing stop order, set the the trailing amount and trailing type.</p>
<div class="section-example-container">
<pre class="csharp">// When SPY trades up to its current price ($440) plus a $30 trailing amount, buy 1 share
TrailingStopOrder("SPY", 1, 30, false);
// When SPY trades up to its current price ($440) plus a 7% trailing amount, buy 1 share
TrailingStopOrder("SPY", 1, 0.07, true);</pre>
<pre class="python"># When SPY trades up to its current price ($440) plus a $30 trailing amount, buy 1 share
self.TrailingStopOrder("SPY", 1, 30, False)
# When SPY trades up to its current price ($440) plus a 7% trailing amount, buy 1 share
self.TrailingStopOrder("SPY", 1, 0.07, True)</pre>
</div>

<p>To sell an asset with a trailing stop order, set the trailing amount.</p>
<div class="section-example-container">
<pre class="csharp">// When SPY trades down to its current price ($415) minus a $20 trailing amount, sell 1 share
TrailingStopOrder("SPY", -1, 20, false);
// When SPY trades down to its current price ($415) minus a 5% trailing amount, sell 1 share
TrailingStopOrder("SPY", -1, 0.05, true);</pre>
<pre class="python"># When SPY trades down to its current price ($415) minus a $20 trailing amount, sell 1 share
self.TrailingStopOrder("SPY", -1, 20, False)
# When SPY trades down to its current price ($415) minus a 5% trailing amount, sell 1 share
self.TrailingStopOrder("SPY", -1, 0.05, True)</pre>
</div>