<p>A portfolio is a semi-closed system where the state updates over time as the value and quantity of assets in the portfolio fluctuate. It's a semi-closed system because the portfolio usually incurs transaction fees and you can add and deposit capital from the portfolio. LEAN models the portfolio holdings to track and update the average price of each asset with every transaction.</p>

<p>At the portfolio level, you can set the <a href="/docs/v2/writing-algorithms/reality-modeling/margin-calls">margin call model</a>.</p>

<div class="section-example-container">
<pre class="csharp">Portfolio.SetMarginCallModel(new DefaultMarginCallModel(Portfolio, DefaultOrderProperties));
</pre>
<pre class="python">self.Portfolio.SetMarginCallModel(DefaultMarginCallModel(self.Portfolio, self.DefaultOrderProperties))</pre>
</div>
