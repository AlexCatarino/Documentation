<p>Fee models should extend the <code>FeeModel</code> class. Extensions of the <code>FeeModel</code> class must implement the <code class="csharp">GetOrderFee</code><code class="python">get_order_fee</code> method, which receives <code>OrderFeeParameters</code> and returns an <code>OrderFee</code> that represents a cash amount in a currency.</p>

<div class="section-example-container">
<pre class="csharp">public class CustomFeeModelExampleAlgorithm : QCAlgorithm
{
    public override void Initialize()
    {
        // In the Initialize method, set the custom fee model for an added security to use the custom model
        var security = AddEquity("SPY");
        security.SetFeeModel(new MyFeeModel());
    }
}

// Define the custom fee model
public class MyFeeModel : FeeModel 
{
    public override OrderFee GetOrderFee(OrderFeeParameters parameters) 
    {
        return new OrderFee(new CashAmount(0.5m, "USD"));
    }
}</pre>
<pre class="python">class CustomFeeModelExampleAlgorithm(QCAlgorithm):
    def initialize(self) -&gt; None:
        # In the Initialize method, set the custom fee model for an added security to use the custom model
        security = self.add_equity("SPY")
        security.set_fee_model(MyFeeModel())

# Define the custom fee model
class MyFeeModel(FeeModel):

    def get_order_fee(self, parameters: OrderFeeParameters) -&gt; OrderFee:
        return OrderFee(CashAmount(0.5, 'USD'))</pre>
</div>

<p>For a full example algorithm, see <span class='python'><a href='https://www.quantconnect.com/terminal/processCache?request=embedded_backtest_622f84a1536fe5e06164969cb2bdb570.html'>this backtest</a></span><span class='csharp'><a href='https://www.quantconnect.com/terminal/processCache?request=embedded_backtest_c84253186121454765e7053e62c8b506.html'>this backtest</a></span>.</p>

<p>The <code>OrderFeeParameters</code> object has the following members:</p>

<div data-tree='QuantConnect.Orders.Fees.OrderFeeParameters'></div>

