<p>Settlement models must extend the <code>ISettlementModel</code> interface. Extensions of the <code>ISettlementModel</code> interface must implement the <code>Scan</code> and <code>ApplyFunds</code> methods. The <code>Scan</code> method is automatically called at the top of each hour and it receives a <code>ScanSettlementModelParameters</code> object. The <code>ApplyFunds</code> method receives an <code>ApplyFundsSettlementModelParameters</code> object and applies the settlement rules. The <code>ApplyFunds</code> method is also automatically called, but its frequency depends on the security type.</p>

<div class="section-example-container">
<pre class='csharp'>public interface ISettlementModel
{
    void ApplyFunds(ApplyFundsSettlementModelParameters applyFundsParameters);

    void Scan(ScanSettlementModelParameters settlementParameters);
}</pre>
</div>

<p>The <code>ApplyFunds</code> method is automatically called when you fill an order for the following security types:</p>

<ul>
    <li>Equity</li>
    <li>Equity Options</li>
    <li>Crypto</li>
    <li>Forex</li>
    <li>Future Options</li>
    <li>Index Options</li>
</ul>

<p>The <code>ApplyFunds</code> method is automatically called when you close a position for the following security types:</p>

<ul>
    <li>Futures</li>
    <li>Crypto Futures</li>
    <li>CFD</li>
</ul>

<p><code>ApplyFundsSettlementModelParameters</code> objects have the following properties:</p>
<div data-tree="QuantConnect.Securities.ApplyFundsSettlementModelParameters"></div>

<p><code>ScanSettlementModelParameters</code> objects have the following properties:</p>
<div data-tree="QuantConnect.Securities.ScanSettlementModelParameters"></div>

<p>You likely don't need to create a custom settlement model because the <a href='/docs/v2/writing-algorithms/reality-modeling/settlement/supported-models'>supported models</a> already implement immediate and delayed settlement rules.</p>