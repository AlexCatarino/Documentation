<p>
The Upcoming IPOs dataset provides timely notifications about upcoming IPOs start, allowing traders to capitalize on the high volatility of new stocks. Examples include the following strategies: 
</p>

<ul><li>Long straddle to trade the volatility of the new IPO stock.</li>
<li>Arbitration on fair price versus IPO price.</li>
<li>Use SMA of IPO number to estimate the IPO trend and market popularity.</li>
</ul>
<h4>Classic Algorithm Example</h4>
<h4>Example 1: New Stock</h4>
<p>The following example algorithm holds new stocks for its IPO day to capitalize its hype.</p>

<div class="section-example-container testable">
<pre class="python">from AlgorithmImports import *


class UpcomingIPOsExampleAlgorithm(QCAlgorithm):

    def initialize(self) -&gt; None:
        self.set_start_date(2024, 9, 1)
        self.set_end_date(2024, 12, 31)
        self.set_cash(100000)
        # Filter for new stocks to trade their hype using EODHDUpcomingIPOs.
        self._universe = self.add_universe(EODHDUpcomingIPOs, self.selection)

    def selection(self, ipos: List[EODHDUpcomingIPOs]) -&gt; List[Symbol]:
        # Select the stocks that IPO starts today and traded in Nasdaq
        return [
            x.symbol for x in ipos 
            if (x.ipo_date and 
                x.ipo_date &lt;= self.time + timedelta(1) and 
                x.exchange == Exchange.NASDAQ)
        ]

    def on_data(self, slice: Slice) -&gt; None:
        # Invest in new stocks and trade on their first day for their hype.
        # Equally invest in each new stocks to evenly dissipate the capital risk.
        for symbol in self._universe.selected:
            security = self.securities[symbol]
            if not security.holdings.invested and security.price:
                self.set_holdings(symbol, 0.1/len(self._universe.selected))

    def on_securities_changed(self, changes: SecurityChanges) -&gt; None:
        # Liquidate the new stocks traded today/yesterday to capitalize the first-day hype.
        for removed in changes.removed_securities:
            self.liquidate(removed.symbol)</pre>
<pre class="csharp">public class UpcomingIPOsExampleAlgorithm : QCAlgorithm
{
    private Universe _universe;

    public override void Initialize()
    {
        SetStartDate(2024, 9, 1);
        SetEndDate(2024, 12, 31);
        SetCash(100000);
        
        // Filter for new stocks to trade their hype using EODHDUpcomingIPOs.
        _universe = AddUniverse&lt;EODHDUpcomingIPOs&gt;(ipos =&gt; 
            ipos.Select(x =&gt; x as EODHDUpcomingIPOs)
                .Where(x =&gt; x.IpoDate &lt;= Time.AddDays(1) &amp;&amp; x.Exchange == Exchange.NASDAQ)
                .Select(x =&gt; x.Symbol)
        );
    }

    public override void OnData(Slice slice)
    {
        // Invest in new stocks and trade on their first day for their hype.
        // Equally invest in each new stocks to evenly dissipate the capital risk.
        foreach (var symbol in _universe.Selected)
        {
            var security = Securities[symbol];
            if (!security.Holdings.Invested &amp;&amp; security.Price != 0)
            {
                SetHoldings(symbol, 0.1m/_universe.Selected.Count);
            }
        }
    }

    public override void OnSecuritiesChanged(SecurityChanges changes)
    {
        // Liquidate the new stocks traded today/yesterday to capitalize the first-day hype.
        foreach (var removed in changes.RemovedSecurities)
        {
            Liquidate(removed.Symbol);
        }
    }
}</pre>
</div>

<h4>Example 2: Market Popularity</h4>
<p>The following example algorithm buy QQQ if the number of IPO in Nasdaq is in increasing trend, sell otherwise.</p>

<div class="section-example-container testable">
<pre class="python">from AlgorithmImports import *


class UpcomingIPOsExampleAlgorithm(QCAlgorithm):
    
    def initialize(self) -&gt; None:
        self.set_start_date(2024, 9, 1)
        self.set_end_date(2024, 12, 31)
        self.set_cash(100000)
        # Create a EMA indicator to estimate the trend of IPO number to reflect the market popularity.
        self._ema = ExponentialMovingAverage(50)

        self.universe_settings.resolution = Resolution.DAILY
        # Filter for new stocks to trade their hype using EODHDUpcomingIPOs.
        self.add_universe(EODHDUpcomingIPOs, self.selection)
        # Request QQQ data to trade.
        self.qqq = self.add_equity("QQQ", Resolution.DAILY).symbol

        self.set_warm_up(50, Resolution.DAILY)

    def selection(self, ipos: List[EODHDUpcomingIPOs]) -&gt; List[Symbol]:
        # Filter for the stocks that IPO starts today and traded in Nasdaq.
        universe = [x.symbol for x in ipos if x.ipo_date and x.ipo_date &lt;= self.time + timedelta(1) and x.exchange == Exchange.NASDAQ]
        # Feed to the EMA indicator.
        self._ema.update(self.time, len(universe))
        return Universe.UNCHANGED

    def on_data(self, slice: Slice) -&gt; None:
        if not self.is_warming_up and self._ema.is_ready:
            # If the EMA is decreasing, we estimate the market popularity is decreasing, so we sell QQQ.
            if self._ema.previous.value &gt; self._ema.current.value:
                self.set_holdings(self.qqq, -1)
            # Otherwise, we estimate the market popularity is increasing, so we buy QQQ.
            else:
                self.set_holdings(self.qqq, 1)</pre>
<pre class="csharp">public class IndexOptionHandlingDataAlgorithm : QCAlgorithm
{
    // Create a EMA indicator to estimate the trend of IPO number to reflect the market popularity.
    private ExponentialMovingAverage _ema = new(50);
    private Symbol _qqq;
        
    public override void Initialize()
    {        
        SetStartDate(2024, 9, 1);
        SetEndDate(2024, 12, 31);
        SetCash(100000);

        UniverseSettings.Resolution = Resolution.Daily;
        // Filter for new stocks to trade their hype using EODHDUpcomingIPOs.
        AddUniverse&lt;EODHDUpcomingIPOs&gt;(Selection);
        // Request QQQ data to trade.
        _qqq = AddEquity("QQQ", Resolution.Daily).Symbol;

        SetWarmUp(50, Resolution.Daily);
    }

    private IEnumerable&lt;Symbol&gt; Selection(IEnumerable&lt;BaseData&gt; ipos)
    {
        // Filter for the stocks that IPO starts today and traded in Nasdaq.
        var universeCount = ipos.Select(x =&gt; x as EODHDUpcomingIPOs)
            .Where(x =&gt; x.IpoDate.HasValue &amp;&amp; x.IpoDate.Value &lt;= Time.AddDays(1) &amp;&amp; x.Exchange == Exchange.NASDAQ)
            .Count();
        _ema.Update(Time, Convert.ToDecimal(universeCount));
        return Universe.Unchanged;
    }

    public override void OnData(Slice slice)
    {
        if (!IsWarmingUp &amp;&amp; _ema.IsReady)
        {
            // If the EMA is decreasing, we estimate the market popularity is decreasing, so we sell QQQ.
            if (_ema.Previous &gt; _ema)
            {
                SetHoldings(_qqq, -1m);
            }
            // Otherwise, we estimate the market popularity is increasing, so we buy QQQ.
            else
            {
                SetHoldings(_qqq, 1m);
            }
        }
    }
}</pre>
</div>
<h4>Framework Algorithm Example</h4>
<p>The following example algorithm holds new stocks for its IPO day to capitalize its hype using framework algorithm.</p>

<div class="section-example-container testable">
<pre class="python">from AlgorithmImports import *


class UpcomingIPOsExampleAlgorithm(QCAlgorithm):
    
    def initialize(self) -&gt; None:
        self.set_start_date(2024, 9, 1)
        self.set_end_date(2024, 12, 31)
        self.set_cash(100000)

        # Filter for new stocks to trade their hype using EODHDUpcomingIPOs.
        self.add_universe(EODHDUpcomingIPOs, self.selection)

        # Invest in new stocks and trade on their first day for their hype.
        self.add_alpha(ConstantAlphaModel(InsightType.PRICE, InsightDirection.UP, timedelta(1), None, None, 0.01))

        # Equally invest in each new stocks to evenly dissipate the capital risk.
        self.set_portfolio_construction(InsightWeightingPortfolioConstructionModel(Expiry.END_OF_DAY))

    def selection(self, ipos: List[EODHDUpcomingIPOs]) -&gt; List[Symbol]:
        # Select the stocks that IPO starts today and traded in Nasdaq
        return [
            x.symbol for x in ipos 
            if (x.ipo_date and 
                x.ipo_date &lt;= self.time + timedelta(1) and 
                x.exchange == Exchange.NASDAQ)
        ]</pre>
<pre class="csharp">public class UpcomingIPOsExampleAlgorithm : QCAlgorithm
{
    public override void Initialize()
    {
        SetStartDate(2024, 9, 1);
        SetEndDate(2024, 12, 31);
        SetCash(100000);
        
        // Filter for new stocks to trade their hype using EODHDUpcomingIPOs.
        AddUniverse&lt;EODHDUpcomingIPOs&gt;(ipos =&gt; 
            ipos.Select(x =&gt; x as EODHDUpcomingIPOs)
                .Where(x =&gt; x.IpoDate &lt;= Time.AddDays(1) &amp;&amp; x.Exchange == Exchange.NASDAQ)
                .Select(x =&gt; x.Symbol)
        );
        
        // Invest in new stocks and trade on their first day for their hype.
        AddAlpha(new ConstantAlphaModel(InsightType.Price, InsightDirection.Up, TimeSpan.FromDays(1), null, null, 0.01d));

        // Equally invest in each new stocks to evenly dissipate the capital risk.
        SetPortfolioConstruction(new InsightWeightingPortfolioConstructionModel(Expiry.EndOfDay));
    }
}</pre>
</div>