<p>
  Occasionally, accessing the QCAlgorithm object in your classes is impossible, and you need to use global static variables to access the API for debugging and initialization purposes. The most common case is custom data implementations where the LEAN Engine is creating the objects, and you're unable to specify a custom constructor. 
</p>
<p>
  To successfully create a global static variable, you must assign the reference to the global variable in the algorithm's initialization. This sets the active instance of the variable to the global static. After this point, the global can access the QC Algorithm API. 
</p>
<div class="section-example-container">
    <pre class="csharp">public class MyCustomDataTypeAlgorithm : QCAlgorithm
{
    public override void Initialize()
    {
        MyCustomDataType.ALGORITHM = this;
        var symbol = AddData&lt;MyCustomDataType&gt;("&lt;name&gt;", Resolution.Daily).Symbol;
    }
}

public class MyCustomDataType : BaseData
{
    public static QCAlgorithm ALGORITHM;

    public override BaseData Reader(SubscriptionDataConfig config, string line, DateTime date, bool isLiveMode)
    {
        if (!char.IsDigit(line.Trim()[0]))
        {
            // Display the line with the header
            ALGORITHM.Debug($"HEADER: {line}");
            return null;
        }
        var data = line.Split(',');
        return new MyCustomDataType()
        {
            Time = DateTime.ParseExact(data[0], "yyyyMMdd", CultureInfo.InvariantCulture),
            EndTime = Time.AddDays(1),
            Symbol = config.Symbol,
            Value = data[1].IfNotNullOrEmpty(
                s =&gt; decimal.Parse(s, NumberStyles.Any, CultureInfo.InvariantCulture)),
        };
    }
}</pre>
    <pre class="python">class MyAlgorithmInstance(QCAlgorithm):

    def Initialize(self):
        self.SetCash(100000)
        self.SetStartDate(1998, 1, 1)
        self.SetEndDate(2014, 6, 1)
        
        # Assign self to Static Cape Variable.
        Cape.Algorithm = self
        self.AddData(Cape, "CAPE")

    def OnData(self, data):
        self.Plot("CAPE", "Value", data["CAPE"].Value)

class Cape(PythonData):  
    def GetSource(self, config, date, isLiveMode): 
        Cape.Algorithm.Debug("Test Static: GetSource")
        return SubscriptionDataSource("https://www.dropbox.com/scl/fi/mqbnfb7ll88nne7b8ymy7/CAPE.csv?rlkey=mnu0ax1d8lcj3gzkdw79z0pm8&dl=1", SubscriptionTransportMedium.RemoteFile)
    
    def Reader(self, config, line, date, isLiveMode):
        if not (line.strip() and line[0].isdigit()): return None 
        index = Cape()
        try: 
            data = line.split(',') 
            index.Symbol = config.Symbol
            index.Time = datetime.strptime(data[0], "%Y-%m") 
            index.Value = float(data[10])
        except ValueError: 
            Cape.Algorithm.Debug("Test Static 2: ValueError")
            return None 
        return index
    </pre>
</div>
