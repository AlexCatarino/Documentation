<p>
  Occasionally, passing the QCAlgorithm object to your class constructor is impossible, so you need to use global static variables to access the API for debugging and initialization purposes. 
  The most common case is <a href='/docs/v2/writing-algorithms/importing-data/streaming-data/key-concepts'>custom data implementations</a>, where the LEAN Engine is creating the objects, and you're unable to specify a custom constructor. 
</p>
<p>
  To create a global static variable, assign the reference to the global variable in the algorithm's <code class="csharp">Initialize</code><code class="python">initialize</code> method. 
  This assignment sets the active instance of the variable to the global static. 
  Then, in your custom class, you can access the QCAlgorithm API through the global. 
  The following algorithm demonstrates this process:
</p>
<div class="section-example-container testable">
    <pre class="csharp">public class MyAlgorithmInstance : QCAlgorithm
{
    private Symbol _symbol;

    public override void Initialize()
    {
        SetStartDate(2012, 9, 1);
        SetEndDate(2024, 12, 31);

        // Instantiate a custom type as a global variable in the QCAlgorithm instance.
        // Assign self to Static Cape Variable.
        Cape.ALGORITHM = this;
        // Request data for trading or signal.
        _symbol = AddData&lt;Cape&gt;("CAPE").Symbol;
    }

    public override void OnData(Slice data)
    {
        if (data.TryGet&lt;Cape&gt;(_symbol, out var cape))
            Plot("CAPE", "Value", cape.Value);
    }
}

public class Cape : BaseData
{
    public static QCAlgorithm ALGORITHM;

    public override SubscriptionDataSource GetSource(SubscriptionDataConfig config, DateTime date, bool isLiveMode)
    {
        ALGORITHM.Debug("Test Static: GetSource");
        return new SubscriptionDataSource("https://raw.githubusercontent.com/QuantConnect/Documentation/master/Resources/datasets/custom-data/CAPE.csv", SubscriptionTransportMedium.RemoteFile);
    }

    public override BaseData Reader(SubscriptionDataConfig config, string line, DateTime date, bool isLiveMode)
    {        
        var data = line.Split(',').ToArray(x =&gt; x.Trim());
        if (data.Length &lt; 12 || line.StartsWith("Date"))
            return null;

        try
        {
            // Construct the custom data type with input data entry.
            return new Cape() 
            {
                Symbol = config.Symbol,
                Value = data[12].IfNotNullOrEmpty(
                    s =&gt; decimal.Parse(s, NumberStyles.Any, CultureInfo.InvariantCulture)),
                Time = DateTime.ParseExact(data[0], "yyyy.M", CultureInfo.InvariantCulture),
            };
        }
        catch (Exception e)
        {
            ALGORITHM.Debug($"Test Static 2: ValueError: {e.Message}, line: {line}");
        }
        return null;
    }
}</pre>
    <pre class="python">class MyAlgorithmInstance(QCAlgorithm):
    def initialize(self) -&gt; None:
        self.set_start_date(2024, 9, 1)
        self.set_end_date(2024, 12, 31)

        # Instantiate a custom type as a global variable in the QCAlgorithm instance.
        # Assign self to Static Cape Variable.
        Cape.algorithm = self
        # Request data for trading or signal.
        self._symbol = self.add_data(Cape, "CAPE")

    def on_data(self, data: Slice) -&gt; None:
        cape = data.get(self._symbol)
        if not cape:
            return
        self.plot("CAPE", "Value", cape.value)

class Cape(PythonData):  
    def get_source(self, config: SubscriptionDataConfig, date:datetime, isLiveMode: bool) -&gt; SubscriptionDataSource:
        Cape.algorithm.debug("Test Static: GetSource")
        return SubscriptionDataSource("https://raw.githubusercontent.com/QuantConnect/Documentation/master/Resources/datasets/custom-data/CAPE.csv", SubscriptionTransportMedium.REMOTE_FILE)

    def reader(self, config: SubscriptionDataConfig, line: str, date:datetime, isLiveMode: bool) -&gt; BaseData:
        index = Cape()
        index.symbol = config.symbol
        data = [x.strip() for x in line.split(',')]
        if len(data) &lt; 12 or line.startswith('Date'):
            return index

        try:
            # Construct the custom data type with input data entry.
            index.value = float(data[12])
            index.time = datetime.strptime(data[0], "%Y.%m")
        except ValueError:
            Cape.algorithm.debug("Test Static 2: ValueError")
        return index</pre>
</div>
