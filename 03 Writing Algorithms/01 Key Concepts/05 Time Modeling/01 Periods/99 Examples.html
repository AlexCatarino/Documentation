<p>
 The following examples demonstrate some common practices for period time modeling.
</p>
<h4>
 Example 1: Tick Signal Daily Security Bar
</h4>
<p>
 This example shows using a tick/pointwise signal from the <a href="/datasets/smart-insider-corporate-buybacks">Smart Insider Intention</a> dataset while trading Starbuck's stock with daily bars. 
 To liquidate the position after two trading days, you can count the number of <code>TradeBar</code> objects you get in the <code class='csharp'>OnData</code><code class='python'>on_data</code> method.
</p>
<div class="section-example-container testable">
 <pre class="csharp">public class PeriodTimeModelingAlgorithm : QCAlgorithm
{
    private Equity _equity;
    private Symbol _smartInsiderIntention;
    // Add a member to track the number of days until the position
    // should be liquidated.
    private int _holdDays = 0;

    public override void Initialize()
    {
        SetStartDate(2024, 9, 1);
        SetEndDate(2024, 12, 31);
        // Add an Equity asset. We will enter with a market on open order
        // and hold for 2 full days, so daily resolution is sufficient.
        _equity = AddEquity("SBUX", Resolution.Daily);
        // Add insider trade intention as the sentiment trading signal.
        _smartInsiderIntention = AddData&lt;SmartInsiderIntention&gt;(_equity.Symbol).Symbol;
    }
    
    public override void OnData(Slice slice)
    {
        // Buy Starbuck's stock whenever we receive a buyback intention 
        // or transaction notification due to volatility.
        if (slice.ContainsKey(_smartInsiderIntention))
        {
            SetHoldings(_equity.Symbol, 1);
            // Hold the position for 2 days to fully digest the insider 
            // intention sentiment.
            _holdDays = 2;
        }
        // Count down the holding day per each daily trade bar received.
        if (_equity.Holdings.Invested && slice.Bars.ContainsKey(_equity.Symbol) && _holdDays-- <= 0)
        {
            // LLiquidate the position if 2 days were fully counted.
            Liquidate(_equity.Symbol);
        }
    }
}</pre>
 <script class="csharp-result" type="text">
  {
    "Total Orders": "10",
    "Average Win": "0.05%",
    "Average Loss": "-0.02%",
    "Compounding Annual Return": "0.020%",
    "Drawdown": "0.000%",
    "Expectancy": "1.212",
    "Start Equity": "100000",
    "End Equity": "100104.20",
    "Net Profit": "0.104%",
    "Sharpe Ratio": "-49.224",
    "Sortino Ratio": "-13.484",
    "Probabilistic Sharpe Ratio": "1.018%",
    "Loss Rate": "40%",
    "Win Rate": "60%",
    "Profit-Loss Ratio": "2.69",
    "Alpha": "-0.016",
    "Beta": "-0",
    "Annual Standard Deviation": "0",
    "Annual Variance": "0",
    "Information Ratio": "-0.821",
    "Tracking Error": "0.155",
    "Treynor Ratio": "141.405",
    "Total Fees": "$10.00",
    "Estimated Strategy Capacity": "$230000000.00",
    "Lowest Capacity Asset": "AAPL R735QTJ8XC9X",
    "Portfolio Turnover": "0.02%",
    "OrderListHash": "ac25363db095ae73565215dcc11e3d0c"
}
 </script>
 <pre class="python">class PeriodTimeModelingAlgorithm(QCAlgorithm):
    
    def initialize(self):
        self.set_start_date(2024, 9, 1)
        self.set_end_date(2024, 12, 31)
        # Add an Equity asset. We will enter with a market on open order
        # and hold for 2 full days, so daily resolution is sufficient.
        self._equity = self.add_equity("SBUX", Resolution.DAILY)
        # Add insider trade intention as the sentiment trading signal.
        self._smart_insider_intention = self.add_data(
            SmartInsiderIntention, self._equity.symbol
        )
        # Add a member to track the number of days until the position
        # should be liquidated.
        self._hold_days = 0

    def on_data(self, slice: Slice):
        # Buy Starbuck's stock whenever we receive a buyback intention 
        # or transaction notification due to volatility.
        if self._smart_insider_intention.symbol in slice:
            self.set_holdings(self._equity.symbol, 1)
            # Hold the position for 2 days to fully digest the insider 
            # intention sentiment.
            self._hold_days = 2
        # Count down the holding day per each daily trade bar received.
        if self._equity.holdings.invested and self._equity.symbol in slice.bars:
            self._hold_days -= 1
            # Liquidate the position if 2 days were fully counted.
            if self._hold_days <= 0:
                self.liquidate(self._equity.symbol)</pre>
 <script class="python-result" type="text">
  {
    "Total Orders": "0",
    "Average Win": "0%",
    "Average Loss": "0%",
    "Compounding Annual Return": "0%",
    "Drawdown": "0%",
    "Expectancy": "0",
    "Start Equity": "100000",
    "End Equity": "100000",
    "Net Profit": "0%",
    "Sharpe Ratio": "0",
    "Sortino Ratio": "0",
    "Probabilistic Sharpe Ratio": "0%",
    "Loss Rate": "0%",
    "Win Rate": "0%",
    "Profit-Loss Ratio": "0",
    "Alpha": "0",
    "Beta": "0",
    "Annual Standard Deviation": "0",
    "Annual Variance": "0",
    "Information Ratio": "-0.991",
    "Tracking Error": "0.106",
    "Treynor Ratio": "0",
    "Total Fees": "$0.00",
    "Estimated Strategy Capacity": "$0",
    "Lowest Capacity Asset": "",
    "Portfolio Turnover": "0%",
    "Drawdown Recovery": "0",
    "OrderListHash": ""
}
 </script>
</div>
