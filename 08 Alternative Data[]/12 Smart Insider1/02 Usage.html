<p>
    Smart Insider data is a <i>linked</i> data source. This means that the data is automatically tied to the
    underlying equity whenever possible. To add the correct data to your algorithm, you should use
    the <i>equity</i> asset Symbol in <code>AddData</code>.
</p>

<h4>Requesting Data</h4>

<p>
    To add Smart Insider data to your algorithm use the <code>AddData()</code> system to request the data. As with all datasets, you should 
    save a reference to your symbol for easy use later in your algorithm. For detailed documentation on using custom data 
    see <a class="docs-internal-link" href="/docs/algorithm-reference/importing-custom-data">Importing Custom Data</a>.
</p>
<div class="section-example-container">
<pre class="csharp">
// Request underlying equity data.
var aapl = AddEquity("AAPL", Resolution.Daily).Symbol;
// AAPL buyback transaction
var buybackTransaction = AddData&lt;SmartInsiderTransaction&gt;(aapl).Symbol;
// AAPL buyback intention
var buybackIntention = AddData&lt;SmartInsiderIntention&gt;(aapl).Symbol;
</pre>

<pre class="python">
# Request underlying equity data.
aapl = self.AddEquity("AAPL", Resolution.Daily).Symbol
# Add AAPL buyback transaction data.
buybackTransaction = self.AddData(SmartInsiderTransaction, aapl).Symbol
# Add AAPL buyback intention data.
buybackIntention = self.AddData(SmartInsiderIntention, aapl).Symbol
</pre>
</div>

<h4>Accessing Data</h4>
<p>
    Data can be accessed via the Slice events. Slice delivers the unique events to your algorithm as they happen.
    We recommend saving the symbol object when you add the data for easy access to slice later.
    Data is available in the following resolutions: Daily.

        Since this is a linked data source, it is also available on the underlying 
        security via the <code class="csharp">Securities[symbol].Data.GetAll&lt;SmartInsiderTransaction&gt;()</code>
        <code class="python">self.Securities[symbol].Data.GetAll(SmartInsiderTransaction)</code> helper method. When you 
        request data via the data cache, it will always return the <em>last</em> transaction stored.

    You can see an example of both of these accessors in the code below.
</p>
<div class="section-example-container">
<pre class="csharp">using QuantConnect.Data.Custom.SmartInsider;
namespace QuantConnect.Algorithm.CSharp {
    public class SmartInsiderAlgorithm : QCAlgorithm {
        public override void Initialize() {
            SetStartDate(2019, 1, 1);
            
            var aapl = AddEquity("AAPL").Symbol;
            // AAPL buyback transaction
            AddData&lt;SmartInsiderTransaction&gt;(aapl);
            // AAPL buyback intention
            AddData&lt;SmartInsiderIntention&gt;(aapl);
        }
        
        public override void OnData(Slice data) {
            // Accessing a linked source from securities collection:
            //var buybackTransaction = Securities["AAPL"].Data.GetAll&lt;SmartInsiderTransaction&gt;();
            //var buybackIntention = Securities["AAPL"].Data.GetAll&lt;SmartInsiderIntention&gt;();
            // Accessing via Slice event
            var buybackTransaction = data.Get&lt;SmartInsiderTransaction&gt;();
            var buybackIntention = data.Get&lt;SmartInsiderIntention&gt;();
            
            foreach (var transaction in buybackTransaction.Values)
            {
                Log($"Date traded through the market: {transaction.BuybackDate}, Describes how transaction was executed: {transaction.Execution}, Describes which entity carried out the transaction: {transaction.ExecutionEntity}, Describes what will be done with those shares following repurchase: {transaction.ExecutionHolding}, Currency of transation (ISO Code): {transaction.Currency}, Denominated in Currency of Transaction: {transaction.ExecutionPrice}, Number of shares traded: {transaction.Amount}, Currency conversion rates are updated daily and values are calculated at rate prevailing on the trade date: {transaction.GBPValue}, Currency conversion rates are updated daily and values are calculated at rate prevailing on the trade date: {transaction.EURValue}, Currency conversion rates are updated daily and values are calculated at rate prevailing on the trade date: {transaction.USDValue}, Free text which expains futher details about the trade: {transaction.NoteText}, Percentage of value of the trade as part of the issuers total Market Cap: {transaction.BuybackPercentage}, Percentage of the volume traded on the day of the buyback: {transaction.VolumePercentage}, Rate used to calculate 'Value (GBP)' from 'Price' multiplied by 'Amount': {transaction.ConversionRate}, Multiplier which can be applied to 'Amount' field to account for subsequent corporate action: {transaction.AmountAdjustedFactor}, Multiplier which can be applied to 'Price' and 'LastClose' fields to account for subsequent corporate actions: {transaction.PriceAdjustedFactor}, Post trade holding of the Treasury or Trust in the security traded: {transaction.TreasuryHolding}");
            }
            foreach (var intention in buybackIntention.Values)
            {
                Log($"Describes how the transaction was executed: {intention.Execution}, Describes which entity intends to execute the transaction: {intention.ExecutionEntity}, Describes what will be done with those shares following repurchase: {intention.ExecutionHolding}, Number of shares to be or authorised to be traded: {intention.Amount}, Currency of the value of shares to be/Authorised to be traded (ISO Code): {intention.ValueCurrency}, Value of shares to be authorised to be traded: {intention.AmountValue}, Percentage of oustanding shares to be authorised to be traded: {intention.Percentage}, start of the period the intention/authorisation applies to: {intention.AuthorizationStartDate}, End of the period the intention/authorisation applies to: {intention.AuthorizationEndDate}, Currency of min/max prices (ISO Code): {intention.PriceCurrency}, Minimum price shares will or may be purchased at: {intention.MinimumPrice}, Maximum price shares will or may be purchased at: {intention.MaximumPrice}, Free text which explains further details about the trade: {intention.NoteText}");
            }
        }
    }
}</pre>
<pre class="python">from QuantConnect.Data.Custom.SmartInsider import *

    class SmartInsiderAlgorithm(QCAlgorithm):
        def Initialize(self):
            self.SetStartDate(2019, 1, 1)

            aapl = self.AddEquity("AAPL").Symbol

            # AAPL buyback transaction
            self.AddData(SmartInsiderTransaction, aapl)
            # AAPL buyback intention
            self.AddData(SmartInsiderIntention, aapl)

        def OnData(self, data):
            # Accessing a linked source from securities collection:
            #buybackTransaction = self.Securities["AAPL"].Data.GetAll(SmartInsiderTransaction)
            #buybackIntention = self.Securities["AAPL"].Data.GetAll(SmartInsiderIntention)
            # Accessing via Slice event
            buybackTransaction = data.Get(SmartInsiderTransaction)
            buybackIntention = data.Get(SmartInsiderIntention)
            
            for transaction in buybackTransaction.Values:
                self.Log(f"Date traded through the market: {transaction.BuybackDate}, Describes how transaction was executed: {transaction.Execution}, Describes which entity carried out the transaction: {transaction.ExecutionEntity}, Describes what will be done with those shares following repurchase: {transaction.ExecutionHolding}, Currency of transation (ISO Code): {transaction.Currency}, Denominated in Currency of Transaction: {transaction.ExecutionPrice}, Number of shares traded: {transaction.Amount}, Currency conversion rates are updated daily and values are calculated at rate prevailing on the trade date: {transaction.GBPValue}, Currency conversion rates are updated daily and values are calculated at rate prevailing on the trade date: {transaction.EURValue}, Currency conversion rates are updated daily and values are calculated at rate prevailing on the trade date: {transaction.USDValue}, Free text which expains futher details about the trade: {transaction.NoteText}, Percentage of value of the trade as part of the issuers total Market Cap: {transaction.BuybackPercentage}, Percentage of the volume traded on the day of the buyback: {transaction.VolumePercentage}, Rate used to calculate 'Value (GBP)' from 'Price' multiplied by 'Amount': {transaction.ConversionRate}, Multiplier which can be applied to 'Amount' field to account for subsequent corporate action: {transaction.AmountAdjustedFactor}, Multiplier which can be applied to 'Price' and 'LastClose' fields to account for subsequent corporate actions: {transaction.PriceAdjustedFactor}, Post trade holding of the Treasury or Trust in the security traded: {transaction.TreasuryHolding}")
            for intention in buybackIntention.Values:
                self.Log(f"Describes how the transaction was executed: {intention.Execution}, Describes which entity intends to execute the transaction: {intention.ExecutionEntity}, Describes what will be done with those shares following repurchase: {intention.ExecutionHolding}, Number of shares to be or authorised to be traded: {intention.Amount}, Currency of the value of shares to be/Authorised to be traded (ISO Code): {intention.ValueCurrency}, Value of shares to be authorised to be traded: {intention.AmountValue}, Percentage of oustanding shares to be authorised to be traded: {intention.Percentage}, start of the period the intention/authorisation applies to: {intention.AuthorizationStartDate}, End of the period the intention/authorisation applies to: {intention.AuthorizationEndDate}, Currency of min/max prices (ISO Code): {intention.PriceCurrency}, Minimum price shares will or may be purchased at: {intention.MinimumPrice}, Maximum price shares will or may be purchased at: {intention.MaximumPrice}, Free text which explains further details about the trade: {intention.NoteText}")
</pre>
</div>


<p>Each SmartInsiderTransaction object has the following properties available for use in your algorithm:</p>
<table class="table qc-table">
    <thead>
        <tr class="definitions-header"><th colspan="2">SmartInsiderTransaction Fields</th></tr>
    </thead>
    <tbody>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>BuybackDate</code><br />
                <p>$[Nullable&lt;DateTime&gt;, T:System.DateTime]</p>
            </td>
            <td class="definitions-description">
                <p>Date traded through the market</p>
                <pre>buybackTransaction.BuybackDate</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>Execution</code><br />
                <p>$[Nullable&lt;SmartInsiderExecution&gt;, T:QuantConnect.Data.Custom.SmartInsider.SmartInsiderExecution]</p>
            </td>
            <td class="definitions-description">
                <p>Describes how transaction was executed</p>
                <pre>buybackTransaction.Execution</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>ExecutionEntity</code><br />
                <p>$[Nullable&lt;SmartInsiderExecutionEntity&gt;, T:QuantConnect.Data.Custom.SmartInsider.SmartInsiderExecutionEntity]</p>
            </td>
            <td class="definitions-description">
                <p>Describes which entity carried out the transaction</p>
                <pre>buybackTransaction.ExecutionEntity</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>ExecutionHolding</code><br />
                <p>$[Nullable&lt;SmartInsiderExecutionHolding&gt;, T:QuantConnect.Data.Custom.SmartInsider.SmartInsiderExecutionHolding]</p>
            </td>
            <td class="definitions-description">
                <p>Describes what will be done with those shares following repurchase</p>
                <pre>buybackTransaction.ExecutionHolding</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>Currency</code><br />
                <p>$[string, T:System.String]</p>
            </td>
            <td class="definitions-description">
                <p>Currency of transation (ISO Code)</p>
                <pre>buybackTransaction.Currency</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>ExecutionPrice</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Denominated in Currency of Transaction</p>
                <pre>buybackTransaction.ExecutionPrice</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>Amount</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Number of shares traded</p>
                <pre>buybackTransaction.Amount</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>GBPValue</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Currency conversion rates are updated daily and values are calculated at rate prevailing on the trade date</p>
                <pre>buybackTransaction.GBPValue</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>EURValue</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Currency conversion rates are updated daily and values are calculated at rate prevailing on the trade date</p>
                <pre>buybackTransaction.EURValue</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>USDValue</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Currency conversion rates are updated daily and values are calculated at rate prevailing on the trade date</p>
                <pre>buybackTransaction.USDValue</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>NoteText</code><br />
                <p>$[string, T:System.String]</p>
            </td>
            <td class="definitions-description">
                <p>Free text which expains futher details about the trade</p>
                <pre>buybackTransaction.NoteText</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>BuybackPercentage</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Percentage of value of the trade as part of the issuers total Market Cap</p>
                <pre>buybackTransaction.BuybackPercentage</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>VolumePercentage</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Percentage of the volume traded on the day of the buyback.</p>
                <pre>buybackTransaction.VolumePercentage</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>ConversionRate</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Rate used to calculate 'Value (GBP)' from 'Price' multiplied by 'Amount'. Will be 1 where Currency is also 'GBP'</p>
                <pre>buybackTransaction.ConversionRate</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>AmountAdjustedFactor</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Multiplier which can be applied to 'Amount' field to account for subsequent corporate action</p>
                <pre>buybackTransaction.AmountAdjustedFactor</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>PriceAdjustedFactor</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Multiplier which can be applied to 'Price' and 'LastClose' fields to account for subsequent corporate actions</p>
                <pre>buybackTransaction.PriceAdjustedFactor</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>TreasuryHolding</code><br />
                <p>$[Nullable&lt;Int32&gt;, T:System.Int32]</p>
            </td>
            <td class="definitions-description">
                <p>Post trade holding of the Treasury or Trust in the security traded</p>
                <pre>buybackTransaction.TreasuryHolding</pre>
            </td>
        </tr>
    </tbody>
</table>
<p>Each SmartInsiderIntention object has the following properties available for use in your algorithm:</p>
<table class="table qc-table">
    <thead>
        <tr class="definitions-header"><th colspan="2">SmartInsiderIntention Fields</th></tr>
    </thead>
    <tbody>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>Execution</code><br />
                <p>$[Nullable&lt;SmartInsiderExecution&gt;, T:QuantConnect.Data.Custom.SmartInsider.SmartInsiderExecution]</p>
            </td>
            <td class="definitions-description">
                <p>Describes how the transaction was executed</p>
                <pre>buybackIntention.Execution</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>ExecutionEntity</code><br />
                <p>$[Nullable&lt;SmartInsiderExecutionEntity&gt;, T:QuantConnect.Data.Custom.SmartInsider.SmartInsiderExecutionEntity]</p>
            </td>
            <td class="definitions-description">
                <p>Describes which entity intends to execute the transaction</p>
                <pre>buybackIntention.ExecutionEntity</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>ExecutionHolding</code><br />
                <p>$[Nullable&lt;SmartInsiderExecutionHolding&gt;, T:QuantConnect.Data.Custom.SmartInsider.SmartInsiderExecutionHolding]</p>
            </td>
            <td class="definitions-description">
                <p>Describes what will be done with those shares following repurchase</p>
                <pre>buybackIntention.ExecutionHolding</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>Amount</code><br />
                <p>$[Nullable&lt;Int32&gt;, T:System.Int32]</p>
            </td>
            <td class="definitions-description">
                <p>Number of shares to be or authorised to be traded</p>
                <pre>buybackIntention.Amount</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>ValueCurrency</code><br />
                <p>$[string, T:System.String]</p>
            </td>
            <td class="definitions-description">
                <p>Currency of the value of shares to be/Authorised to be traded (ISO Code)</p>
                <pre>buybackIntention.ValueCurrency</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>AmountValue</code><br />
                <p>$[Nullable&lt;Int64&gt;, T:System.Int64]</p>
            </td>
            <td class="definitions-description">
                <p>Value of shares to be authorised to be traded</p>
                <pre>buybackIntention.AmountValue</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>Percentage</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Percentage of oustanding shares to be authorised to be traded</p>
                <pre>buybackIntention.Percentage</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>AuthorizationStartDate</code><br />
                <p>$[Nullable&lt;DateTime&gt;, T:System.DateTime]</p>
            </td>
            <td class="definitions-description">
                <p>start of the period the intention/authorisation applies to</p>
                <pre>buybackIntention.AuthorizationStartDate</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>AuthorizationEndDate</code><br />
                <p>$[Nullable&lt;DateTime&gt;, T:System.DateTime]</p>
            </td>
            <td class="definitions-description">
                <p>End of the period the intention/authorisation applies to</p>
                <pre>buybackIntention.AuthorizationEndDate</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>PriceCurrency</code><br />
                <p>$[string, T:System.String]</p>
            </td>
            <td class="definitions-description">
                <p>Currency of min/max prices (ISO Code)</p>
                <pre>buybackIntention.PriceCurrency</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>MinimumPrice</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Minimum price shares will or may be purchased at</p>
                <pre>buybackIntention.MinimumPrice</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>MaximumPrice</code><br />
                <p>$[Nullable&lt;Decimal&gt;, T:System.Decimal]</p>
            </td>
            <td class="definitions-description">
                <p>Maximum price shares will or may be purchased at</p>
                <pre>buybackIntention.MaximumPrice</pre>
            </td>
        </tr>
        <tr class="definitions-row">
            <td class="definitions-property" width="20%"><code>NoteText</code><br />
                <p>$[string, T:System.String]</p>
            </td>
            <td class="definitions-description">
                <p>Free text which explains further details about the trade</p>
                <pre>buybackIntention.NoteText</pre>
            </td>
        </tr>
    </tbody>
</table>
<p>All custom data has the properties <code>Time</code>, <code>Symbol</code>, and <code>Value</code>.</p> 